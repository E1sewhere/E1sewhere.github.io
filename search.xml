<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[迁移平台后第一篇日记]]></title>
    <url>%2F2023%2F03%2F03%2F%E8%BF%81%E7%A7%BB%E5%B9%B3%E5%8F%B0%E5%90%8E%E7%AC%AC%E4%B8%80%E7%AF%87%E6%97%A5%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[兜兜转转还是回到Hexo平台上，我时不时会写日记来记录或者发泄疏导心理。Lofter之类的平台总是不注意就触发到了它的社区规则给我吞了，Hexo其实用起来并不方便，但至少比较可靠。以后就在这里写日记啦。 今年完全没有像开始想的那样奋进，又同过去一样陷入繁忙中。时间像劣质的中性笔芯，看着慢慢的却一点也不经用。睡眠不足的问题也完全没有改善，一些浪费时间的恶习也没有改掉。一切都如同往日，如此下去明年的明年也不会有什么改变。我并不认为我现在的生活方式有什么不好，我所要做而没有做到的努力，正式为了至少维持住现在的生活。为了金钱，我能舍弃掉什么，金钱能够买到远远大于我舍弃的快乐。 对我来说一切努力都很痛苦，现在不去努力也很痛苦。行动的理由是：努力后至少以后有不痛苦的可能。我有且仅有一条努力的路，正确、必须、不得不，却又没有真正开始。 我尝试让自己更加自律，于是开始用每日计划约束自己，但实际没有那么多精力去管理，自我管理最终还是得依靠目的与强烈的认同，这还是一个心理问题。 所以我决定简化每日打卡程序，基本规则改为： - 每日打卡变更为群内自由打卡，不再做任何规定，考核 - 设置一套每周目标，每周末集中进行任务完全情况汇报，并由队友进行点评 - 细节：需要确定详细时间，汇报会议主持人 - 周任务的惩罚与奖励 - ex，行为禁止列表制作，凡触发禁止列表内的条目直接自我处罚。该行为监督完全自主。 - 禁止行为列表和周目标不冲突，譬如周目标之一为，本周5天11点前睡觉，禁止列表内也设置了，不准熬夜条目。处罚依然独立。 希望能够尽快完成夙愿，开启人生摆烂模式。 就这样，加油吧。]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA['虚第一次拟化物理机 FAILED Unable to find the system volume, reconfiguration is not]]></title>
    <url>%2F2023%2F02%2F26%2F%E8%99%9A%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8B%9F%E5%8C%96%E7%89%A9%E7%90%86%E6%9C%BA-FAILED-Unable-to-find-the-system-volume-reconfiguration-is-not%2F</url>
    <content type="text"><![CDATA[无格式迁移之前一直用的WTG炸了，实在没有心情再搞一个，没有做好备份实在是后悔。 想起来VMware似乎直接有一个虚拟化物理的功能，遂尝试把本地的win10(x64 190x版本)给虚拟化了。 使用的VMware vCenter CS 6.x的版本，没有中文，靠着小学的英语水平操作了一波。由于原硬盘很大，我直接把c盘和数据盘选择最小大小。 一个小时后虚拟化完成了，看看task摘要： %98 FAILED: Unable to find the system volume, reconfiguration is not possible.失败了 先把已经完成的vmx等文件备份一下,开始Google,网页很少,就几个英文VM的论坛有相关信息,不过题主出的问题似乎和我差不多.靠着谷歌翻译和猜,把能做的操作都做了一遍,不知道原理反正做就是了. 启动一下,win10检测出启动问题,然后运行自带的修复程序.好了开机成功… 怀着疑问,我把之前没有操作过的虚拟机文件直接启动,win10修复后依然成功开机,也就是说前面一通操作完全没有必要,不得不说win10还是挺nb的. 开机后显卡驱动有问题,硬盘也搞得太小了.其他都还好,把更新禁止了,应该可以日用.]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[管家婆安装&启动]]></title>
    <url>%2F2023%2F02%2F26%2F%E7%AE%A1%E5%AE%B6%E5%A9%86%E5%AE%89%E8%A3%85-%E5%90%AF%E5%8A%A8%2F</url>
    <content type="text"><![CDATA[无格式迁移这个是记录管家婆辉煌的安装以及第一次启动过程的文档. 安装过程安装环境Win10专业版管家婆辉煌关闭防火墙,或者把防火墙的211端口打开.（实际测试不关闭也可以使用，如果不能使用可以尝试关闭防火墙） 准备工作首先确保已经安装了mysql2000,如果不会安装可以参考:Win10安装 SQL server 2000如果需要安装电子狗驱动程序依然可以参考上面的链接. 另外需要申明的一点是,为了尽可能避免未知错误,我们所有需要执行的程序都使用管理员执行. 安装过程直接管理员执行安装程序,如果有批处理脚本可以不使用管理员模式,直接执行脚本. 安装时选择需要安装的路径,路径随意但最好为全英文. 安装时会选择安装的产品,按需选择,这里我选择了单机版,其他的如服务段,帮助文件等都安装,只有客户端是需要我们选择的. 基本无脑下一步.如果需要输入服务器地址,输入127.0.0.1,如果输入密码就输入数据库密码,我的密码设置为空. 第一次启动安装完成后,我们把三个图标从菜单拖动到桌面: TCP/IP端口服务器管家婆辉煌Ⅱ TOP+服务器管家婆辉煌Ⅱ TOP+单机版(这个要看你安装的是什么)然后三个程序都在属性兼容性里勾选以管理员身份运行此程序. 在保证你的mysql2000正常启动后,首先管理员启动TCP/IP端口服务器,如果需要输入服务器同上.启动后点开TCP/ip端口服务器的托盘,查看端口,正常情况应该是有且仅有211端口被侦听. 然后管理员权限启动管家婆辉煌II服务器,启动后点开托盘,设置,设置数据库连接参数,保证服务器为127.0.0.1,用户名为sa,密码为你设置的数据库密码,我的密码为空. 启动管家婆辉煌Ⅱ TOP+单机版,正常情况下应该可以启动了. 如果不行检查防火墙,以及这三个程序是否正常启动(包括参数): TCP/IP端口服务器管家婆辉煌Ⅱ TOP+服务器SQLserver服务管理器参考管家婆官方帮助文档也能解决一些疑难杂症.]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Google Play 无法下载应用]]></title>
    <url>%2F2023%2F02%2F26%2FGoogle-Play-%E6%97%A0%E6%B3%95%E4%B8%8B%E8%BD%BD%E5%BA%94%E7%94%A8%2F</url>
    <content type="text"><![CDATA[无格式迁移 自从换了miui官方系统,google play就时不时无法下载了.首先,排除干扰因素,确保能够进入google play主页,开启数据下载开关,然后下载一直转圈.分下一下原因,再找出解决办法. 分析先直接开启全,.局代,.理.确保所有流量都向服务器发出.我有两批节点,一批在服务器审计处限制了.cn等域名的代,.理,暂且称之为A组.另一批没有做任何限制,可以代,.理绝大多数.cn域名称之为B组.所以猜测google play无法下载是因为发出的请求使用了.cn的域名抓取google play的日志发现这两个地址 googleapis.cnservices.googleapis.cn并不是正常的 googleapis.com解析一下ip,ip地址,并查询ip归属.归属地为北京,北京谷翔信息技术有限公司,应该是持有google中国icp拍照的公司,但是这个ip并不能获取任何play商店的内容.天眼查显示该公司google持股50%.大概不是什么钓鱼地址.手机没有解锁,所以我就不考虑重刷框架了. 所以大致知道了googplay时不时不能下载的原。节点的路由规则很简单,且切换策略使用的url-test当节点切换到B组的时候,googleapis.cn会被代,.理服务器解析到play市场正确的ip.而当使用A组的时候会被服务器拒绝解析.或者当你使用了一些不恰当的规则让googleapis.cn不走代,.理服务器,直接国内dns解析到了这个谷翔公司的ip. 所以我们要下载就需要满足两个条件: 代,.理服务器没有把这两个域名加入审计这两个域名通过代,.理访问那些使用国内版固件又能下载的老哥一定是满足了这两个条件. 解决方案更换代,.理找一个能够回国的节点用,比如我就在规则中把这两个.cn的地址分配给B组. 刷机群里发生这个问题的是国内固件,所以可以刷一个其他的固件,或者重装原版Google服务. adb删除不正确的地址可以用adb删除googlexxx.cn的xml文件.但是手机升级后肯定需要重新搞. 更改dns(没试过)直接使用国外的dns服务应该可以解决,因为我们只需要获取正确的ip,但是这样会导致国内服务缓慢. 其他还有什么关闭下载加速,清空数据的玄学艹作,这种一般都是没有把需要代理应用勾选完,或者节点质量差的原因. 结论ROOT后方法就太多了，由于没有root,所以最好的还是找一个可以回国的节点,然后在规则中将 googleapis.cnservices.googleapis.cn加入B组除此之外,由于A组的流量多,是我的主要节点,B组是自己搭建的,落地服务器质量差,延迟奇高只是做备用的.所以,我还需要把类似 translate.google.cn的域名加入B组规则.百度某些api有地域歧视,我也把他们加入了B组,使用美,.帝的ip来访问.台,.湾无法使用百度网盘(A组有tai,.弯节点),也得使用B组.加了一大堆规则,头疼.所以建议使用clas,.h的老哥们还是用subconvert来拼接规则方便一点.]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[VMware虚拟机设置选项]]></title>
    <url>%2F2023%2F02%2F26%2FVMware%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%AE%BE%E7%BD%AE%E9%80%89%E9%A1%B9%2F</url>
    <content type="text"><![CDATA[无格式迁移设置VMware的CPU的时候不知道该怎么设置，于是搜索了一下 处理器处理器内核总数要小于实际物理CPU的逻辑处理器总数 逻辑处理器可以在任务管理器看到 处理器内核总数=处理器数量x每个处理器的内核数量 我的理解，处理器数量和每个处理器内核数量和实际处理器没关系，是虚拟化出来的。 所以只要这两个相乘小于物理CPU的逻辑处理器数量就行，我的AMD 6核心，对应12线程，所以猜想出这几种组合 处理器数量 每个处理器的内核数量1 12 √12 1 X2 6 √1 6 √其中12处理器数量不行，两个却可以，我猜想处理器数量的最大值应该是由主板插槽之类的决定的，反正这个主机处理器数量不能大于2。 同时AMD需要在bios中开启AMD-V]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Bartender安装基础使用及使用数据库字段循环递增]]></title>
    <url>%2F2023%2F02%2F26%2FBartender%E5%AE%89%E8%A3%85%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%97%E6%AE%B5%E5%BE%AA%E7%8E%AF%E9%80%92%E5%A2%9E%2F</url>
    <content type="text"><![CDATA[无格式迁移 第一次使用标签打印机，得力送的Bartender lite版本，无法链接数据库，遂下载官方2016版本，特殊地区无法连接到官方服务器，安装失败，直接使用完整版本的2019 r5安装包，打个补丁，没办法只能用了。只做测试学习使用，以后真要大量用再补票吧。 安装在某外网搜索关键字，找到2019 R5版本，和补丁。执行安装程序后会有很大的延迟时间才弹出窗口，不知道是不是虚拟机的原因。无脑安装完整版，注册补丁解压到Bt的安装根目录，执行补丁程序（日常管理员权限执行），点击补丁窗口中间的一排蓝字。 安装完成 连接打印机打印机注意事项DL-888t支持最大碳带宽度为110mm，最小为33.8mm，长度为90m，碳带卷芯内径为12.7mm，碳带为双轴，纸张最大也是110mm定位块（黑色的滑块），要对准边缘的三角形标记打印机首选项-》页面设置-》新建-》名称改为数字（不能为中文），标签大小按照实际标签设置。配套的打印机设置工具中要添加打印机（不能使用默认的Auto），设置打印机按钮选项卡需要吧模式选择为对应的打印模式，热敏模式必须把碳带取出。BT连接注意bt打印中纸张也要选择实际大小否则可能会连续出纸 BT连接数据库（excel）简单，网上大把教程，且根据日常操作逻辑就可以成功连接excel，唯一值得注意的是，需要使用office 2006之后版本创建的xls文件。 使用数据库字段循环递增BT模板使用数据库中的字段已经很简单了，但是实现这个递增还是挺难的（对我来说），我尝试使用Bt支持的vb来实现，但是功底太差实现不了，唯一能想出的解决办法，就是使用脚本直接把表格数据序列化，然后直接使用数据库中的字段。但是这太傻了。 最后在群里大佬花了几分钟给解决了。请大佬喝杯咖啡，然后把模板文件拿来研究。 由于使用的非官方BT，大佬的模板过来直接连接不了数据库，尝试安装了AccessDatabaseEngine_X64.exe就成功打开了。 需求要实现如图的把数量，按照数量的份数打印，然后每一份按照编号递增 img 456 实现不需要使用VB，直接使用软件原生的序列化即可实现。 把文本的属性直接如下设置： IMG_20200530_172006 IMG_20200530_172014 IMG_20200530_172021 IMG_20200530_172028 治疗颈椎病从我做起 大致的逻辑过程就是：序列号是一个队列，队列打印完了，一行数据就循环完毕，开始第二行，序号改变，数据重置为1，开始循环打印第二行。。。。。]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Win10中Git代理设置（包括ssh）]]></title>
    <url>%2F2023%2F02%2F26%2FWin10%E4%B8%ADGit%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE%EF%BC%88%E5%8C%85%E6%8B%ACssh%EF%BC%89%2F</url>
    <content type="text"><![CDATA[无格式迁移Hexo使用的时候，Git中代理设置总是失败，才想起来配置的是http实际协议是ssh，所以一直都用http登录github，虽然可以用带参数的脚本命令，但确实没有ssh用着舒服。所以把Git的代理配置研究记录一下。 http/socks配置http配置http，包含了https所以无需单独配置https，注意自己代理监听的地址和端口必须一致 git config –global http.proxy http://127.0.0.1:1080socks一般使用这两种 git config –global http.proxy socks5://127.0.0.1:1080git config –global http.proxy socks5h://127.0.0.1:1080第二种据说要好一点。 ssh配置来源：https://segmentfault.com/a/1190000021998129 在ssh配置文件：~/.ssh/config（不存在就手动创建） 增加如下内容 Host github.com *.github.comUser git # SSH默认端口22， HTTPS默认端口443 Port 22 Hostname %h # 这里放你的SSH私钥 IdentityFile ~\.ssh\id_rsa # 设置代理, 127.0.0.1:10808 换成你自己代理软件监听的本地地址 # HTTPS使用-H，SOCKS使用-S ProxyCommand connect -S 127.0.0.1:1080 %h %p 这里命令使用了connect中继，所以需要安装：connect win10中把下载的connect解压，然后把connect.exe所在目录添加至环境变量的Path变量中即可 补充一下git使用代理后可能会 kex_exchange_identification: Connection closed by remote host所以最好还是改github的hosts]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Win10 安装cnckad16]]></title>
    <url>%2F2023%2F02%2F26%2FWin10-%E5%AE%89%E8%A3%85cnckad16%2F</url>
    <content type="text"><![CDATA[无格式迁移cnckad 安装包是从同事那里搞来的破解包，实在不好意思问他怎么安装安装摸索了半个小时，网上没找到适用win10的教程。最后也算是安好了 环境win10，已经安装好常见的运行环境（3dm游戏包） 安装步骤安装步骤可能有冗余，反正最后安装好了，也不用去研究哪些操作是不必要的。 安装软件主体直接运行cnckadCD.exe,操作都是下一步下一步，这部分过程可以搜索“cncKad16安装步骤”，有详细的安装步骤。 替换破解文件这里参考安装包里的说明即可，主要步骤就是复制对应文件到安装路径的根目录 注册表打开目录MulKLE_x64运行cncKad16_x64.reg 安装虚拟驱动安装驱动好后在设备管理器中可以看到，虚拟驱动有三个，所以必须有这三个才不会弹出key的错误对话框Snipaste_2020-10-25_22-25-32 打开目录MulKLE_x64将内容直接复制到安装cnckad的根目录。 设置devcon.exe的兼容性为win7，勾选管理员身份运行此程序 运行install.cmd。 如果运行没有反应。可以手动输入命令： 当前目录shift右键打开powershell输入命令.\remove root\MulKLE.\devcon install MulKLE.inf root\MulKLE弹出安装驱动窗口，确定安装完毕]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Surface Book全屏降低分辨率]]></title>
    <url>%2F2023%2F02%2F26%2FSurface-Book%E5%85%A8%E5%B1%8F%E9%99%8D%E4%BD%8E%E5%88%86%E8%BE%A8%E7%8E%87%2F</url>
    <content type="text"><![CDATA[无格式迁移 本文记录了如何降低surface分辨率并让其全屏 需求原因surface 设置中自带的分辨率选项除了默认的最大分辨率，其他分辨率都没有3：2的比例，这就导致了其他所有分辨率均无法全屏。 降低分辨率的目的是提升续航，提升续航大最有效的方法大致有这几个： 更改电源策略为省电降低屏幕亮度通过软件调整cpu电压降低显示器分辨率其中最有效的为电源策略和屏幕亮度。cpu电压调整由于个人能力原因一直会导致其他问题，或者调整后省电感知不强，如果有朋友知道该怎么弄欢迎留言指导。降低显示器分辨率能提升续航，但也不是很大，不过在运行某些软件时降低分辨率可以使软件更流畅。 降低分辨率网上有两个思路，一个是修改注册表，对注册表不了解，所以这个操作搞不来。虽然网上有现成修改好的注册表，但使用后并没有作用。 另一个思路是直接使用intel官方驱动代替surface的定制显卡驱动，官方驱动有自定义分辨率功能，但surface不支持直接安装包安装Intel显卡驱动，遂需要手动安装。 安装过程首先确认自己的cpu型号，我的cpu为i5-6300k,在intel官网中分类为i5 6代 然后在设备管理器 -显示适配器中查看目前驱动型号，我的型号为intelR HD graphics 520 拥有这两个信息后就可以找到自己cpu对应的intel官方驱动了 直接去intel驱动官网：https://www.intel.cn/content/www/cn/zh/support/products/80939/graphics.html 我的cpu就是，适用于第 6 代英特尔® 处理器的显卡-英特尔核芯显卡520 点开后会有适用本cpu的所有驱动，选择一个适合的（说明中会有适用描述，正常情况应该所有驱动都可以，随便选一个就好） 我选择的是适用于 Windows * 的英特尔® Graphics Driver [15.45] 下载win64前缀，zip后缀的压缩包，不要下载exe文件，exe文件是无法安装的。 我下载的是：win64_15.45.33.5164.zip 下载后解压 然后回到设备管理器 -显示适配器对着显卡驱动右键-属性，选择驱动程序选项卡，点击更新驱动程序，选择浏览我的电脑以查找驱动程序，点击让我从计算机上的可用驱动程序列表中选取选择从磁盘安装然后选择解压目录中的igdlh64.inf文件,通常该文件在Graphics文件夹中。后续就是下一步下一步了。安装后重启。 重启后可在显卡自定义中设置分辨率，只要分辨率为3：2即可。 我常用的为： 1080：7201920：1280900：600自定义分辨率其他的参数：刷新率为60.其他的不要动。 自定义分辨率设置完成后就可以在系统的显示设置中随时更改分辨率啦。]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Windows休眠倒计时用bat实现]]></title>
    <url>%2F2023%2F02%2F26%2FWindows%E4%BC%91%E7%9C%A0%E5%80%92%E8%AE%A1%E6%97%B6%E7%94%A8bat%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[无格式迁移有休眠需求，本来以为和shutdown一样直接简单命令就行了，可是要调用可执行程序，命令有点长干脆写个bat算了，bat命令如下： title 定时休眠@ECHO OFF&amp;SETLOCAL ENABLEDELAYEDEXPANSIONSET /p t=请输入休眠时间（单位秒,只输入数字）：SET /a s=t+1FOR /l %%i in (1,1,!s!) do ( SET /a s-=1 ping -n 2 127.1&gt;nul title 休眠倒计时： !s! 需要终止请直接关闭控制台) START “” rundll32.exe powrprof.dll,SetSuspendState 0,1,0直接cmd里执行或者创建一个bat后缀文件复制上述内容即可。其中有中文回显注意编码否则会乱码。既然写了那也付一个关机倒计时吧，同理可得 title 定时关机@ECHO OFF&amp;SETLOCAL ENABLEDELAYEDEXPANSIONSET /p t=请输入关机时间（单位秒,只输入数字）：SET /a s=t+1FOR /l %%i in (1,1,!s!) do ( SET /a s-=1 ping -n 2 127.1&gt;nul title 关机倒计时： !s! 需要终止请直接关闭控制台)shutdown -s -t 1]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[上古卷轴5卡任务使用控制台强制完成]]></title>
    <url>%2F2023%2F02%2F26%2F%E4%B8%8A%E5%8F%A4%E5%8D%B7%E8%BD%B45%E5%8D%A1%E4%BB%BB%E5%8A%A1%E4%BD%BF%E7%94%A8%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%BC%BA%E5%88%B6%E5%AE%8C%E6%88%90%2F</url>
    <content type="text"><![CDATA[无格式迁移网上搜了一圈全是复制粘贴的一个方式，由于使用了整合MOD整合了很多任务包，sqt这种获取原版任务的命令没用。害得去外网。方法如下：首先~进入控制台，输入如下命令并回车 save funclist 1之后会弹出一个txt文档，如果没有弹出，到盘符:\Documents\My Games\Skyrim Special Edition\saves里或者是盘符:\Documents\My Games\Skyrim\saves里不出意外里面会有一个文档funclist.ess.txt如果使用了MO管理器则会在MO的类型…\profiles...\saves\目录下，建议还是直接用everything之类的索引搜索软件直接搜索文件名称funclist.ess.txt使用记事本打开此文件可以看到形如如下内容 FE012800 5930/5930 14000002 78 PyP_Legendary - Quest Flags(2) Quest Already Run(1) Quest Runtime Data(5914) 1A07A334 814/814 BC000002 78 人生如梦 - Quest Flags(2) Quest Already Run(1) Quest Instance Data(14) Quest Runtime Data(618) Quest Objectives(9) Quest Stages(157) 0B0CE0F1 662/662 9C000002 78 被缚的风暴斗篷 - Quest Flags(2) Quest Already Run(1) Quest Instance Data(28) Quest Runtime Data(449) Quest Stages(169)首列的就是任务代码，如果没有看到如此结构的内容，直接文本内ctrfl+F搜索你卡关的任务名称，譬如我的是人生如梦，定位到任务处，注意该行一定要有quest字样才是任务行，否则可能是其他同名称的对象，比如某个物品名称代号也叫人生如梦。人生如梦的任务代码为1A07A334,记录下来。人后回到游戏，进入控制台，输入sqs 1A07A334查询任务阶段控制台回显如下： Stage 1:1Stage 2:1Stage 10:0…冒号候的1代表已经完成，0代表未完成，冒号前的代表任务阶段，数字递增但不一定是以1自然递增，有可能是100，200也肯是10，20等等。我是第三个未完成所以输入如下命令 setstage 1A07A334 10关掉控制台，任务就已经完成了。此方法适用部分卡关任务，运气好就过了，运气不好重开，重装吧。 注意： 任务按阶段进行，不要跳过中间状态任务最好把行为作完避免后面bug率提高，比如要kill某怪物，最好把怪物先killed了大小写我不知道有没有影响，最好保持一致吧completequest 1A07A334 为强制结束该任务，可以试试]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[DWG文件输出为高质量图片]]></title>
    <url>%2F2023%2F02%2F26%2FDWG%E6%96%87%E4%BB%B6%E8%BE%93%E5%87%BA%E4%B8%BA%E9%AB%98%E8%B4%A8%E9%87%8F%E5%9B%BE%E7%89%87%2F</url>
    <content type="text"><![CDATA[原帖：https://www.cnblogs.com/e1sewhere/p/16721246.html无格式迁移 法一：直接使用autocad自带输出手头有个dwg文件里的图要用来打印大尺寸图片，直接使用autocad2022自带的打印为png/jpg格式，把图片输出尺寸设置为实际打印尺寸，dpi自定义最大（200，再大就提示不支持），输出的图片质量还是不清楚，打印后很模糊。不过如果不是用来打印这种大尺寸图片应该是够用了。具体输出方法网上可以搜索到 法二：使用格式转换工具转换目前网上找到的无论是在线还是本地付费软件都是辣鸡，不行，还不如cad自带的输出。试了几个相对好用的有，讯捷CAD转换器。质量马马虎虎不太能达到我的要求，但其他用法应该还是可以用的。 法三：导出为eps文件再使用ps直接autocad输出为eps文件，然后使用ps打开理论上可行，图片也挺清楚，但是不知道为啥，图片ps打开后文件内容和以前不一样了 方法四：导出为pdf再使用ps打开综合下来我最后使用了这个方法，但依然不太好用，其实最好的办法其实就是，如果会用ps之类的绘图软件的话直接照着cad的内容在ps里重绘还好点使用cad导出为pdf可以支持dpi几乎无限大了，但是dpi设置太大了会输很久很久，所以我dpi设置的400 过程如下： autocad 打印为pdf，质量控制有 pdf选项、着色视口选项、图纸尺寸，在允许的情况下尽可能高 其中特性用以自定义图纸尺寸https://img2022.cnblogs.com/blog/1443724/202209/1443724-20220922234148543-1751556300.png 使用ps打开pdf，栅格化文件的时候也是把质量都弄高 ps打开pdf后不知道为啥图片颜色部分全部有了细小的横线，在ps里稍微修改下把所有色块修改为纯色 ps导出为图片格式]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[VM虚拟机使用主机（物理机）代理]]></title>
    <url>%2F2023%2F02%2F26%2FVM%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%EF%BC%88%E7%89%A9%E7%90%86%E6%9C%BA%EF%BC%89%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[由于Hexo在虚拟机里，同步时有时候需要代理。但懒得另外代理了，所以直接用物理机代理。 Vm软件中网络适配器设置为桥接模式，并勾选复制物理网络链接状态。然后虚拟机（windows）中设置代理监听物理机地址，物理机地址ip用ipcong查询ipv4地址就是。同时物理机的clash开启Allow lan,端口用clash内的配置端口。]]></content>
      <categories>
        <category>默认</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Win10安装 SQL server 2000]]></title>
    <url>%2F2019%2F06%2F27%2FWin10%E5%AE%89%E8%A3%85-SQL-server-2000%2F</url>
    <content type="text"><![CDATA[由于需要在Win10上安装老旧的管理系统,尝试了在WIN10上安装SQL Server 2000. 123环境WIN10X64专业版SQL Server 2000个人版 确保之前的没有sqlserver安装残留之前的sqlserver没有卸载干净的话,很容易安装报错.确保之前的是删除干净的. 替换sqlunirl.dll文件将sql2000安装包下的./x86/system/sqlunirl.dll复制,粘贴到C盘的./windows/syswow64/下.如果权限不足.进行一下步骤,没有则跳过下一项 权限提升找到syswow64下的sqlunirl.dll文件→右键属性→安全→高级.这时高级选项卡的所有者项目为TrustedNstaller,点击更改,在输入要选择的对象名称中输入当前用户名,通常如果是users用户组可以接输入users,点击检查名称,就会自动补全当前用户名→确定→确定回到属性选项卡→常规→编辑,选择users用户组→users的权限勾选允许:完全控制(反正只是一个文件的操作权限,也可以只勾选修改权限)→确定 现在获得了操作权限,将./syswow64/sqlunirl.dll修改为sqlunirl64.dll作为备份,如果提示需要管理员权限一律选择允许,后面所有的步骤遇到管理员权限都选择允许.然后重复最开始的复制操作.成功复制文件到系统下. 回到安装包,根目录下的AUTORUN.exe已经无法在64位下运行,直接运行setup程序.进入安装包找到./sqlserver2000/x86/setup/setupsql.exe以管理员权限运行.如果执行后提示有其他的安装正在执行之类的(记不到提示的什么了)可以尝试编辑注册表,没有则跳过下一项 清除缓存win+R运行regedit定位到HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Control/Session Manager在右边找到PendingFileRenameOperations项目,直接删除.(路径纯手打可能有错误) 正常安装之后的安装就是常规安装了. 其他后言管理系统需要用到的出了sqlserver2000还有驱动以及几个主程序,这两个程序的安装都是选择兼容模式位xp,然后管理员模式运行.驱动的安装需要使用命令行添加-i参数,这里需要用管理员模式运行CMD,同时exe文件也需要在属性里添加管理员权限和xp兼容模式.所有安装完成后.要正常运行管理系统需要三个程序 TCP端口驱动程序 管理系统服务端 sqlserver服务端 这三个程序在WIN10中设置了开机自启并不起作用.把他们的快捷方式添加到c:/users/你的名字/appdata/roamin/microsoft/windows/start menu/programs/startup/文件夹下.这样开机就会自动启动了. 其他方案搜索其他资源的时候,看到这样一个帖子,站长似乎做了一个集成安装程序.由于是付费入群下载,看更新日志似乎还是相当靠谱,支持xp~win10. 地址:微软SQL2000+SP4集成安装版 v3.5 BY 少轻狂]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>win10</tag>
        <tag>sqlserver</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[RD Client 简明教程]]></title>
    <url>%2F2019%2F05%2F23%2FRD-Client-%E7%AE%80%E6%98%8E%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[最近学习中有手机远程控制的需求,体验勉勉强强吧.不过使用RD Client的时候居然还折腾了那么久…果然现在学习能力下降的有点剧烈. 只用于内网连接,公网没有这个需求,但是连接步骤都是一样的.软件使用很简单,就是傻瓜式的下一步下一步…多数人失败都是没有达到使用要求 条件 操作系统有相关组件(专业版,企业版) 开启了远程桌面 IP正确(或者内网设备名称正确) 账户正确,账户拥有权限 步骤开启远程桌面家庭版似乎需要怎么折腾一下自己搜索吧,既然都玩win了反正都是白嫖,装机还是装专业企业版吧. 这台电脑 -&gt; 属性 -&gt; 远程设置 -&gt; 允许连接到此计算机 -&gt; 仅允许运行使用网络级别身份验证的远程桌面的计算机连接（建议）既然都开启了远程桌面,远程协助也一块开了吧,反正也没有安全需求. 这个界面也可以添加新的可连接账户,默认当前用户是有连接权限的 查看当前用户你登陆windows时显示的名称有可能并不是当前账户的名称(除非是域账户) cmd使用whoami命令可以查看当前用户名称,比如我现在的账户名称就是这个163邮箱 移动端app连接打开软件右上角加号 -&gt; Desktop 这里如果是同一局域网下，可以直接scan你的设备名称，如果没扫出来，多扫以下就好了。实在扫不出来 pc上 cmd 执行 ipconfig命令查看下自己的局域网ip 然后移动端 手动输入ip 上面添加了pc name后,添加user name 点击user name的下拉框 -&gt; add user account 账户密码来一套, 确定后,右上角 林克斯大特~! (connect) 正常的话就连接了. 其他 使用RD Client远程桌面,有时候分辨率会出问题,比如有些全屏游戏无法全屏,但是切换到pc就好了. RD Client 似乎不能多账户运行,运行其他账户当前pc就会提示你注销. 如果想使用手机当分屏我建议使用spacedesk,体验还不错 RECOMMENDWin下批量 关闭/打开 进程Windows To Go系统安装记录Win磁盘MBR转换为GUID系统后门]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Office 使用遇到的问题]]></title>
    <url>%2F2019%2F05%2F11%2Foffice-%E4%BD%BF%E7%94%A8%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[这是在使用office过程中遇到问题,使用的一些解决方法的记录 Word自动生成目录,部分标题没有前导符如图 在标题和页码之间输入Tab即可,如果没有成功,选中这一行右键 段落 制表位 ,其中前导符选中我们需要的那个,然后确定,重新插入Tab. 正文页码从1开始把光标停在正文这一页的内容前面,然后选择 面布局–分隔符–分节符–下一页 点击视图–页眉和页脚–插入页码 在设计中选择设置页码格式,起始页为1 选中正文的第一页的页脚,取消与上一节的链接 查看正文第一页页脚变为1 如果目录首页等还有页码,删除即可 PowerPoint提取背景图片将文件扩展名ppt或者pptx修改为zip然后解压缩,可以在解压后的文件里找到背景图,背景图位于media文件夹内.]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>office</tag>
        <tag>word</tag>
        <tag>ppt</tag>
        <tag>excel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[google hack 笔记]]></title>
    <url>%2F2019%2F03%2F29%2Fgoogle-hack-%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[关于google hack得笔记 从有道笔记转移 基础关键字组合 &quot;&quot; 完全匹配(严格),双引号内的字符串不拆分. + 指定一个一定存在的关键词 - 指定一个一定不存在的关键词 | 或,满足其中一个关键词就可以. AND 所有关键词都必须满足(可以不像双引号一样必须连在一起) Site:搜索指定域名下的结果 123site:domainsite:baidu.com inurl:搜索结果的url中一定有指定的内容 123inurl:strinurl:admin/login.php intitle:搜索标题为指定内容的结果 123intitle:strintitle:后台管理 cache:缓存搜索,类似百度的快照可以可以搜索到google记录的网页历史快照 1cache:url 组合这个语法都可以自由自合比如搜索site为baidu.com 包含”有限公司”的结果 1site:baidu.com &quot;有限公司&quot; 搜索site为baidu.com 标题中包含”有限公司”的结果 1site:baidu.com intitle:有限公司 实用搜例子 查找目标管理员site:domain &quot;发布人&quot;可以再网站中搜索发布人这个关键字,后面跟随的信息就是网站发布小心的用户,而这个用户很可能就是管理员 查找目标脚本语言site:domain php可以在网站中搜索类似php这样的脚本语言扩展名,对于某些伪静态网站(比如页面全是html的),如果搜到某种扩展名基本可以判断这个网站使用的脚本语言. 查找弱点站inurl:ewebeditor admin可以用来批量查找存在某些弱点的站点.比如上面这个就是查找ewbeditor编辑器的后台页面,这种后台通常存在弱口令. 寻找c段主机site:49.122.21.*]]></content>
      <categories>
        <category>笔记</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[获取MySQL执行的语句]]></title>
    <url>%2F2019%2F03%2F18%2F%E8%8E%B7%E5%8F%96MySQL%E6%89%A7%E8%A1%8C%E7%9A%84%E8%AF%AD%E5%8F%A5%2F</url>
    <content type="text"><![CDATA[windows下利用log监控本地运行的mysql服务所执行的语句 直接在mysql根目录下的my.ini中配置 在[mysqld]下添加一行log 1log = &quot;C:\Users\Doll SY DA\Desktop\mysqllog\mysql_log.sql&quot; 重启mysql服务这样,本地执行的语句都会在这个文件中找到了. 为了更加方便我们使用工具:vMysqlMonitoring打上断点,点击获取就可以刷新一次日志. RECOMMENDphp和数据库]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitHub使用技巧]]></title>
    <url>%2F2019%2F02%2F24%2FGitHub%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[本文记录了github使用中发现的好的用法.以及遇到的问题解决的过程 使用GiThub直接访问html文件我们先上传文件(这个很简单不再叙述)然后进入我们需要访问的预览管理页面 直接在这个页面的url前添加htmlpreview.github.io/?访问,就可以访问我们的html了. 一台设备绑定两个Git账号本条参考: https://www.jianshu.com/p/3fc93c16ad2dhttps://blog.csdn.net/jifaliwo123/article/details/79126785 条件 本机两个密钥对 push时每个仓库使用独立账户 操作 查看密钥 ls ~/.ssh/ ,看到 id_rsa 与 id_rsa_pub 则说明已经有一对密钥. 生成新的公钥ssh-keygen -t rsa -f ~/.ssh/id_rsa_2 -C &quot;yourmail@xxx.com&quot;,我按照默认命名指派名称为id_rsa_2,也可以取一个有意义的名称.询问密码设置我直接为空(回车两下). 再次用ls查询,和上一次比较多出了id_rsa_2 与 id_rsa_pub_2,密钥成功创建了. 在.ssh文件夹下新建config文件(无扩展名)添加内容,另不同 Host 实际映射到同一 HostName，但密钥文件不同.Host 前缀可自定义，例子中ieit 12345678910# default Host github.comHostName github.comUser gitIdentityFile ~/.ssh/id_rsa# two Host ieit.github.comHostName github.comUser gitIdentityFile ~/.ssh/id_rsa_2 将公钥内容添加到GitHub上,参考:使用SSH密钥连接Github【图文教程】 测试 ssh 链接 1234ssh -T git@ieit.github.comssh -T git@github.com# Hi IEIT! You've successfully authenticated, but GitHub does not provide shell access.# 出现上边这句，表示链接成功 取消全局 用户名/邮箱设置，并进入项目文件夹单独设置 1234567# 取消全局 用户名/邮箱 配置git config –-global -–unset user.namegit config –-global –-unset user.email# 单独设置每个repo 用户名/邮箱git intigit config user.email “xxxx@xx.com”git config user.name “xxxx” 添加账户后无法ssh -T git@github.com成攻击,但原来的哪个配置好的账户是直接push是可以的,新建的密钥账户就无法push.弄了很久没解决,加之这里网络有问题,挂了代理也有毛病,遂放弃.以后有时间了再来看看.暂时先用虚拟机代替.]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Win 优化&技巧以及其他]]></title>
    <url>%2F2019%2F02%2F20%2FWin-%E4%BC%98%E5%8C%96%26%E6%8A%80%E5%B7%A7%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BB%96%2F</url>
    <content type="text"><![CDATA[本文针对Windows,主要是针对平常使用时,不得不做的一些小设置做一个记录.至于通用优化,以后有时间会参考别人的帖子,做一些精简整理. WIN10通用优化关闭系统服务以下服务都可以关闭(未整理完全): Windows searchWindows Error Reporting ServiceBackground Intelligent Transfer ServiceHomeGroup ListenerHomeGroup Providerwindows updateWindows Event LogSuperfetchWindows Defender ServiceSecurity CenterShell Hardware Detection 关闭磁盘整理自动磁盘整理会拖慢系统速度,而且如果是非机械硬盘磁盘整理只能消耗磁盘寿命.如果需要整理手动就好 对着需要关闭的磁盘右键属性 工具-&gt;优化-&gt;关闭自动优化 琐碎设置修改hosts简单的本地屏蔽一些域名，或者为某些无法访问的域名指定固定的ip。 hosts文件位置C:\Windows\System32\drivers\etc\hostshosts文件是没有后缀的，由于是只读文件，且必须管理员权限修改，可以在安全中将赋予当前用户的修改权限，然后文件取消只读属性，就可以修改了。 Hosts文件立即生效win不像linux修改后立即生效，通常需要下刷新dns缓存，cmd下使用命令 1ipconfig /flushdns Win10 广告弹窗解决方案使用火绒弹窗拦截临时解决弹窗问题,可以让弹窗降低,包括窗口弹窗,右下角弹窗. 这里只使用火绒杀毒软件的附带功能,本机测试关闭火绒杀毒的主程序,弹窗拦截插件依然是可以正常使用的.火绒杀毒的一些优缺点: 轻量,安静,但是杀毒几乎没有作用,还不如Win10自带的WD类似360监控软件静默安装,一定程度防止流氓软件自动安装.占用低,可以用来解决关闭WD后烦人的安全警告,WD可以将其识别为杀毒软件,所以主动关闭WD后,WD不会再有烦人的不安全警告. 获取弹窗拦截插件论坛有单独提取插件程序,但是最简单的方法是使用火绒杀毒内置的下载器获得拦截程序.从官网下载:火绒安全软件主程序 点击扩展工具→点击弹窗拦截 下载 开启拦截下载后打开弹窗拦截,点击开启弹窗拦截 开启内置拦截规则库点击添加拦截→点击建议拦截 弹出新对话框,点击一键拦截 到此内置拦截库已经应用 手动添加拦截规则内置的拦截很不全面,需要每次弹窗后添加手动拦截,添加一次后这个弹窗就不会出现.基本按照这个方式用几天就能做到99%的拦截.广告弹窗弹出的时候先不要关闭它.在程序托盘位置右键弹窗拦截图标,点击手动拦截.(我这个任务栏托盘在右上角,正常情况应该是右下角) 点击后鼠标在你需要拦截的弹窗上悬浮，确保黄色选框正确的框住了你需要拦截的弹窗，然后点击点击拦截此窗口 拦截方式选择关闭弹窗，点击拦截弹窗 这样弹窗就被关闭了. 关闭错误的拦截如果不小心拦截了正常的窗口可以使用使用这个方法撤回拦截我们双击托盘上的弹窗拦截图标打开弹窗拦截主界面.主界面的列表可以看到已被拦截的弹窗程序. 刚才测试拦截的程序是正常软件,不是弹窗程序.所以我们要取消拦截.直接点击红色叉删除即可. 其他注意的软件设置一定要保证弹窗拦截程序开机自启.打开设置 设置项目如下: 快捷方式添加到开始菜单将需要的快捷方式移动到路径C:\ProgramData\Microsoft\Windows\Start Menu\Programs然后就可以在开始菜单的列表里看到了,之后手动固定到磁铁即可. 关闭任务栏窗口预览win10的这个小窗口预览很烦人,我将任务栏放在顶部,老是和浏览器标签重叠,窗口多的时候这个预览一整排,相当崩溃.使用如下方法关闭命令regedit打开注册表编辑器定位到HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Advanced在这个路径下的右边空白处,右键-&gt;新建-&gt;Dword(32位值)把刚刚新建的Dword值重命名为ExtendedUIHoverTime，然后右键点击该键值，在弹出菜单中选择修改菜单项这时就会打开编辑该注册表键值的窗口，把数值数据修改为9000，最后点击确定按钮就可以了接着我们再定位到注册表的HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Taskband注册表项用同样的方法，我们新建一个NumThumbnails的注册表键值，右键点击该键值，在弹出菜单中选择修改菜单项改为0重启计算机,enjoy! 来源:https://jingyan.baidu.com/article/92255446755733851648f4fd.html 第三方软件问题删除百度网盘设备驱动器可以直接在百度网盘设置里取消,重启后如果不成功,需要手动修改注册表. win+R 打开”运行“ 输入”regedit“ 代开注册表编辑器.打开下面的路径: 1HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Mycomputer\NameSpace 直接删除NameSpace的子目录,就会删除网盘的设备驱动. 其他问题你需要来自XXX的权限才能对此文件夹进行更改可以更改当前文件用户组,稍微麻烦点.也可以使用cmd如下命令,cmd需要管理员身份运行 设置F盘everyone都有读写能力 1cacls.exe F:\ /e /t /g everyone:F 当前目录everyone都有读写能力 1cacls.exe ./ /e /t /g everyone:F 开机弹出”没有默认的邮件客户端”弹窗解决办法（服务里没法直接关闭）： 定位注册表到“HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services”下。找到4项 “OneSyncSvc”“OneSyncSvc_sessionID”“UserDataSvc”“UserDataSvc_sessionID”把每项里“Start”的值设为4，重启就能看到效果了。（0 引导，1 系统，2 自动-默认，3 手动，4 禁用）此处的sessionID不同人不一样,是一个变量 来源:如何让Outlook (office365)不再弹出“没有默认的邮件客户端”对话框？ - 拉格朗日的回答 - 知乎 WinXP激活 1.安装原版windows xp2.打开注册表regedit3.找到主键Hkey_Local_Machine\Software\Microsoft\WindowsNT\CurrentVersion\ WPAEvents\4.删除子键lastWPAEventLoged (如果有的话）5.修改子键OOBETimer键值为：ff d5 71 d6 8b 6a 8d 6f d5 33 93 fd (手动输入)6.右击注册表中“WPAEvents”键→“权限”→“高级”→“所有者”→你的用户名→“应用”→“确定”7.回到“安全”标签→“高级”→选择列表中的“system”→“编辑”8.把“拒绝”列下的方框全部打勾即可9.“确定”退出 安装时可以使用的key:7Q3GG-KFFDX-Y46QG-KFD3X-M4PBF (只在profesional sp3上测试过) RECOMMENDRD Client 简明教程Win下批量 关闭/打开 进程Windows To Go系统安装记录系统后门]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[upload labs 练习]]></title>
    <url>%2F2019%2F02%2F13%2Fupload-labs-%E7%BB%83%E4%B9%A0%2F</url>
    <content type="text"><![CDATA[本文记录了练习upload labs 的过程,已经学习完了,有很多问题没有解决,有一些pass也看得很走马观花,但是时间不多先学习其他的.末尾也会持续补充关于upload的知识积累 没有解决的pass pass3 还有burp截包没有返回的问题. //刚才测试昨天试过的抓包步骤都是可以抓到的.操作没有问题. pass5 同pass3 //同上,解决 pass11 url截断上传失败 pass12 hex截断上传失败 upload漏洞粗略了解upload类型 判断upload 总结判断操作系统 我们使用构造后缀的方法时,与操作系统息息相关,例如添加空格,添加点,添加::$DATA都是windows系统的特性,要多注意服务器的版本,与服务所在的操作系统. 参考过的比较好的writup https://github.com/LandGrey/upload-labs-writeup https://zhuanlan.zhihu.com/p/52099683 https://fuping.site/2018/06/04/upload-labs-writeup/ 没有看很多,主要看他们的思路. WritUppass 01 客户端后缀检查上传jpg文件成功,上传php文件失败,提示后缀问题.白名单检测.由于弹出错误很快,我们猜测是客户端校验直接单击了’查看提示’,知道了这个pass是本地js检查文件,可以本地修改. 方法一 firefox 开发者工具直接修改 待查?f12-&gt;查看器找到响应js部分(直接搜索jpg) 1var allow_ext = &quot;.jpg|.png|.gif&quot;; 直接添加,一个|.php.理论上就可以上传了.但是上传失败,提示依旧 方法二 禁用js直接禁用浏览器js功能,安装firefox插件noscript,禁用浏览器js.重试上传过程,成功 方法三 burp改包把一句话木马后缀改为.jpgburp代理好,点击上传.把劫到的包发送到,burp的repeater. 123456789101112131415POST /upload-labs/Pass-01/index.php HTTP/1.1Host: 192.168.96.128User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:65.0) Gecko/20100101 Firefox/65.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Referer: http://192.168.96.128/upload-labs/Pass-01/index.phpContent-Type: multipart/form-data; boundary=---------------------------7020711924050Content-Length: 297DNT: 1Connection: closeUpgrade-Insecure-Requests: 1-----------------------------7020711924050Content-Disposition: form-data; name=&quot;upload_file&quot;; filename=&quot;m.jpg&quot; //这里修改为`m.php`Content-Type: image/jpeg 查看头,把filename改为php后缀.点击go,右边查看返回页面源码 1&lt;img src=&quot;../upload/m.php&quot; width=&quot;250px&quot; /&gt; 在一个img标签中找到我们上传的文件路径,看到文件已经变为php文件. pass2 服务端mime检查本pass在服务端对数据包的MIME进行检查. 直接像pass1一样使用burpsuit修改. 12Content-Disposition: form-data; name=&quot;upload_file&quot;; filename=&quot;2.php&quot; //这里直接上传php文件即可不要修改Content-Type: image/png //这里原来不是img类型,我们修改为img类型 修改后,go,查看成功了 pass3 服务端黑名单 ???上传提示不允许php等文件上传,查看提示,应该是服务端黑名单本例按照网上的writup无法复现,暂时搁置 //已经问题随着pass2的解决同时解决了,参考pass2//关于,使用burp抓包后,抓不到我们请求的包抓,burp代理firefox,firefox会向服务器发送包,所以浏览器请求的时候发了两个包,一个是像火狐服务器,一个是向网站.我们需要在burp的proxy选项卡的子选项卡intercept,里面.点,drop丢弃这个火狐的包,或者fordard放行这个包,当然点drop最好 方法一 直接绕过文件直接修改我们修改php后缀,服务器只禁止了.php也许没有禁止phtml,php3等可以解析的php后缀.修改为php3上传成功.尝试使用菜刀连接连接失败.直接看服务器的上传路径原来是文件被重命名了.查看网页上提供的源码提示有如下代码,限制大小写,去末尾点,去末尾::data,去末尾空.这三种构造后缀绕过. 12345$file_name = deldot($file_name);//删除文件名末尾的点 $file_ext = strrchr($file_name, &apos;.&apos;); $file_ext = strtolower($file_ext); //转换为小写 $file_ext = str_ireplace(&apos;::$DATA&apos;, &apos;&apos;, $file_ext);//去除字符串::$DATA $file_ext = trim($file_ext); //收尾去空 本方法失败,我们尝试用新的名称菜刀连接,成功了.但是现实我们很难获得改变后的名称.哈哈,昨天傻了,还’很难获得’,直接使用burp抓包看返回的图片路径,就知道的我们长传的文件的路径和名称,或者直接用浏览器看源码也可以知道,昨天忘记了的原因可能是burp不知道为什么一直抓不到包.刚才测试昨天试过的抓包步骤都是可以抓到的.操作没有问题 方法二 htaccess文件上传解析漏洞 （重写解析规则绕过）原理.htaccess是apache服务器中的一个配置文件,不是上传的文件的黑名单之内 ,所以.htaccess文件是可以上传成功上传覆盖.htaccess文件，重写解析规则，将上传的带有脚本马的图片以脚本方式解析 上传打开记事本，将如下代码写入文本中： 1AddType application/x-httpd-php .jpg 然后点击文件选中另存为，编写文件名为.htaccess(win创建点开头的文件可以用命令行,或者重命名的时候在后面多加一个点如.htaccess.否则会报错)，选择保存类型为所有文件.htaccess文件里的代码的含义 是 将上传的文件后缀名为.jpg格式的文件以php格式来解析文件。将.htaccess文件进行上传,上传成功。按照原理这里我们直接上传.jpg后缀的一句话就可以了.但是我们直接查看上传路径,我们的规则文件也被重命名了.所以本例子中无法成功. 为了测试新学会的这个法二,我们手动修改好两个文件,试一试能否连接 直接往上传文件夹复制两个文件2.jpg .htaccess使用菜刀连接,连接成功了2.jpg如我们期望被服务器作为php文件解析了. pass4 服务端黑名单检查页面直接重新加载,猜测是服务端验证.我们修改后缀为.php3依然报错查看提示,这是黑名单过滤,过滤了绝大部分可执行文件后缀. 方法一直接在.php后再添加一个服务器无法解析的后缀,当无法解析的时候服务器会尝试解析前一个后缀.我们将文件名称改为4.php.7z,上传成功了.直接使用菜刀连接.成功了,文件被当作php文件解析了. 方法二继续使用上一个题目学会的上传解析规则文件的方法.我们创建文本文档写入以下内容 1AddType application/x-httpd-php .jpg 然后将文件改名为.htaccess并上传上传成功了然后上传一个4.jpg的一句话,成功使用菜刀连接,成功,文件被服务器当作php执行了. pass5依然判断是服务器检查我们先上传.php3,.phptml都是失败了.再上传.php.7z成功了 由于上面的都可以通过添加后缀的方法绕过,猜测是我的靶场环境有点问题.后面的pass将会禁止这个方法.我们直接查看提示,发现禁用了常见的后缀,.htaccess也被禁止了.直接查看源代码发现包含部分大小写,php2这样类似的方法都被禁止了但是并没有完全禁止大小写.我们尝试一个没有被禁用的大小写.成功了,且被解析为php我们要用一个新学会的方法. 双写绕过我们再次查看源码,过滤了末尾的.末尾的空格和末尾的::%DATA这三种字加到文件后缀的末尾都会被windows系统自动删除.而服务器处理的时候是会保留的并将其一通视为后缀.最后保存到本地windows中就被删除了.一下是网上搜到的 php+win时.文件名+::$DATA会把data之后的当文件流处理,最后保存的时候只保留::$DATA之前的文件名 查看源码消除::DATA的方法,是直接删除,所以可以使用双写的方法绕过我们将后缀构造成这样的形式.php::%::%DATADATA在通過服務器的時候会被服务器把中间的::%DATA删除,然后保存到windows中就是.php::%DATA这样的形式,由于windows的特性::%DATA会被删除(还是忽略?)最后保存到文件系统中就是我们想要的.php.尝试菜刀连接成功了.注意这里我们上传的文件除后缀部分依然被重命名了.需要查看burp的返回页面找到文件路径的名称. pass6加空绕过为了节约时间直接查看源码,过滤方法中将后缀全部替换为小写,删除末尾的点,去除末尾::$DATA.没有对末尾空格处理.我们注意到这里依然将::$DATA直接去除,所以依然可以使用双写绕过.这里我们不再重复,使用加空格绕过构造这样的后缀.php上传成功.查看burp返回页面 1&lt;img src=&quot;../upload/201902151027474533.php &quot; width=&quot;250px&quot; /&gt; 使用菜刀访问我们的文件,成功 pass7 后缀加点绕过节约时间,直接查看源码. 12345$file_name = trim($_FILES[&apos;upload_file&apos;][&apos;name&apos;]);$file_ext = strrchr($file_name, &apos;.&apos;);$file_ext = strtolower($file_ext); //转换为小写$file_ext = str_ireplace(&apos;::$DATA&apos;, &apos;&apos;, $file_ext);//去除字符串::$DATA$file_ext = trim($file_ext); //首尾去空 可以看到没有对末尾的点处理,而且依然可以使用::%DATA双写我们使用点号的漏洞,构造这样的后缀.php.查看burp的返回页面 1&lt;img src=&quot;../upload/5.php.&quot; width=&quot;250px&quot; /&gt; &lt;/div&gt; 成功了,哈哈最神奇的是这次居然没有重命名了我们用菜刀连接成功了. pass8 ::$DATA绕过直接查看源码 12345$file_name = trim($_FILES[&apos;upload_file&apos;][&apos;name&apos;]); $file_name = deldot($file_name);//删除文件名末尾的点 $file_ext = strrchr($file_name, &apos;.&apos;); $file_ext = strtolower($file_ext); //转换为小写 $file_ext = trim($file_ext); //首尾去空 没有过滤::$DATA这次连双写都不用了,直接添加这个尾缀.这里就不再操作 pass9直接看源码 123456$file_name = trim($_FILES[&apos;upload_file&apos;][&apos;name&apos;]);$file_name = deldot($file_name);//删除文件名末尾的点$file_ext = strrchr($file_name, &apos;.&apos;);$file_ext = strtolower($file_ext); //转换为小写$file_ext = str_ireplace(&apos;::$DATA&apos;, &apos;&apos;, $file_ext);//去除字符串::$DATA$file_ext = trim($file_ext); //首尾去空 这次6,7,8pass用的方法都不能用了.我们试一下最开始使用过的方法利用php解析漏洞构造这样的尾缀.php.7z 1&lt;img src=&quot;../upload/5.php.7z&quot; width=&quot;250px&quot; /&gt; 成功了 但是我需要用其他的方法,于是搜索writup有这样一种方法 我们查看方法调用,先去除了末尾的点,有去除了末尾的空.那么构造一个这样的后缀试一下.php. .按照我们的想法,服务处理后就变成了.php.这就是我们想要的后缀.使用burp返回页面 1&lt;img src=&quot;../upload/9.php. &quot; width=&quot;250px&quot; /&gt; &lt;/div&gt; 成功了. pass10直接查看源码 123$file_name = trim($_FILES[&apos;upload_file&apos;][&apos;name&apos;]);$file_name = str_ireplace($deny_ext,&quot;&quot;, $file_name);$temp_file = $_FILES[&apos;upload_file&apos;][&apos;tmp_name&apos;]; 第二个方法把$deny_ext这个数组里包含的所有后缀都替换为空,我们先试一下.phP上传成功了但是查看返回 1&lt;img src=&quot;../upload/5.&quot; width=&quot;250px&quot; /&gt; phP被替换了,这个替换是忽略大小写的. 但由于是直接替换为空,我们就可以使用双写了. 后缀双写直接构造.phphpp查看burp返回 1&lt;img src=&quot;../upload/10.hpp&quot; width=&quot;250px&quot; /&gt; ???,emmm这返回的啥.啊,我构造的有点蠢,虽然是把php插在另一个php里但是最开头构成了php,所以中间的php被拆了.重新构造.pphphp,查看返回 1&lt;img src=&quot;../upload/10.php&quot; width=&quot;250px&quot; /&gt; 恩,这样就没问题了. pass11查看源码 123456if(isset($_POST[&apos;submit&apos;]))&#123; $ext_arr = array(&apos;jpg&apos;,&apos;png&apos;,&apos;gif&apos;); $file_ext = substr($_FILES[&apos;upload_file&apos;][&apos;name&apos;],strrpos($_FILES[&apos;upload_file&apos;][&apos;name&apos;],&quot;.&quot;)+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES[&apos;upload_file&apos;][&apos;tmp_name&apos;]; $img_path = $_GET[&apos;save_path&apos;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; 白名单,只允许图片后缀.但是文件上传路径是通过get方法取得的,猜测可以在url中传入我们构造的路径,然后将后面的代码注释掉.然而我不知道怎么注释,搜索网上的writeup,可以使用%00截断,就把后面的字符串截断了.使用%00截断必须满足两个条件 php版本小于5.3.4 php的magic_quotes_gpc为OFF状态 //在php.ini中修改 这两个条件我的服务端都满足.所以我使用这个方法,在burp中自定义上传路径然后加上阶段符号 123456789101112131415POST /upload-labs/Pass-11/index.php?save_path=../upload/haha/11.php%00 HTTP/1.1 //这里使用了%00截断Host: 192.168.96.128User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:65.0) Gecko/20100101 Firefox/65.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Referer: http://192.168.96.128/upload-labs/Pass-11/index.php?save_path=../upload/Content-Type: multipart/form-data; boundary=---------------------------14066184711055Content-Length: 324DNT: 1Connection: closeUpgrade-Insecure-Requests: 1-----------------------------14066184711055Content-Disposition: form-data; name=&quot;upload_file&quot;; filename=&quot;11.jpg&quot;Content-Type: image/jpeg 返回提示上传出错.检查了下配置和我的playload应该没有问题.只能查看下源码问题在哪里了.先查一下不认识的函数: strrpos(被查找的字符串,要查找的字符),这个函数查找某个字符在字符串中最后一次出现的位置.大小写敏感$_FILES[][&#39;name&#39;]获得上传文件的原名称.如果后面的括号里是type就是获得文件类型,tmp_name获得文件被上传后服务器存储的临时文件名,一般是默认.size已上传文件大小.error和文件上传错误相关的代码.move_uploaded_file(string $filemane,String $destination)将指定文件(必须是合法的即通过post,get上传的文件)移动到由destination指定的文件 1$file_ext = substr($_FILES[&apos;upload_file&apos;][&apos;name&apos;],strrpos($_FILES[&apos;upload_file&apos;][&apos;name&apos;],&quot;.&quot;)+1); 这个语句的意思就是截取上传文件的原名称的.后面的字符.也就是后缀.$file_ext这个变量保存了文件后缀 123456789101112if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES[&apos;upload_file&apos;][&apos;tmp_name&apos;]; $img_path = $_GET[&apos;save_path&apos;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; if(6($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = &apos;上传出错！&apos;; &#125; &#125; else&#123; $msg = &quot;只允许上传.jpg|.png|.gif类型文件！&quot;; &#125; 这一段意思是,如果文件后缀在我们的列表内就继续,否则提示不允许,如果继续,取得文件临时名,再通过sava_path构造一个img_path用来存放文件.然后判断移动临时文件到我们构造的路径是否成功,失败就报错.所以我们的移动失败了. pass12通过我不知道的某种方法,我们判断了这是截断上传,而且是通过post方法提交参数的截断上传.由于post方法不会自动将%00作为截断符,我们需要直接在hex 中添加截断符实际操作方法很简单将burp拦截的包发送到repeater,修改raw中的 123Content-Disposition: form-data; name=&quot;save_path&quot;../upload/ 在路径后添加我们需要的内容 1../upload/12.php 然后再最后再添加一个空格,作为之后修改hex值的标记我们切换到hex选项卡,找到路径的那一行之前我们在路径末尾添加了空格,空格的hex值为20,我们找到这一行的20将他修改为00就是hex中截断符.然后回车保存.发包测试.失败了,同上一条一样提示上传失败.暂时跳过,所有步骤和网上的好几个write up相同,应该不是操作原因. pass13要求为上传图片马到服务器并使用文件包含漏洞运行图片中的代码,之前学过.但是不知道怎么操作. 制作图片马在win中,首先准备一个恶意代码文件假设命名为m.php 1&lt;?php phpinfo();?&gt; //这次我们为了方便不用一句话了,直接用代码查看服务器信息 然后准备一张图片假设名称为pic.jpg放在同一目录下,使用cmd进入这个目录输入命令copy pic.jpg/b + m.php/a picm.jpg 命令中/b表明二进制文件 /a表明ascii文本文件值得一提的是如果把两个文件调换位置(两个参数跟着)copy m.php/a + pic.jpg/b picm.jpg,生成的文件图片就乱码了,猜测是文本加在了图片的前面. 直接将这个制作好的图片马picm.jpg上传到靶机.上传成功了,使用burp查看,被重命名了. 制作文件包含入口虽然也可以使用.htaccess但是要求使用文件包含由于没有发现pass13页面,本身有文件包含入口.所以我自己构造了一个包含文件包含漏洞的php页面. 1234&lt;?php$file=$_GET[&apos;page&apos;]; //通过url获取参数赋值给变量include($file); // 传入用户变量给`include`函数,产生漏洞.?&gt; 手动传入服务器,访问,在url中传入我们的参数,也就是我们上传的图片码 1http://192.168.96.128/upload-labs/upload/include.php?page=1520190215165135.jpg 这样我们图片中包含的php代码就被服务器解析了.我们看到页面上显示了当前php服务器信息. 注意:当我们使用远程文件包含的时候,如果包含的能直接运行的代码文件,如.php,那么这个代码就会在文件所在机器执行,如果包含的是txt,jpg这样的含有代码的服务器不能直接解析的文件,就会包含到我们的include所在的代码中合并执行,也就是在使用包含函数的服务段执行 pass14本pass14,通过阅读源码得知,使用getimagesize()函数判断文件类型,粗略搜索了这个函数会判断文件流的头,来判断是否为图片文件 我们测试一下这个函数,来粗略的理解它.首先我们使用十六进制编辑器,推荐使用np++ 首先我们构造一个php语句 1&lt;?php phpinfo(); ?&gt; 它的16进制值是 13C3F 7068 7020 7068 7069 6E66 6F28 293B 203F 3E 我们在最前面添加16进制的png头,将其构造为假的png文件 18950 4E47 0D0A 1A0A 3C3F 7068 7020 7068 7069 6E66 6F28 293B 203F 3E 最后保存成 .png 后缀的文件 这里注意,十六进制编辑器,我先使用的notepad++的插件.失败了,特别是无法使用64位的插件然后使用ue的十六进制编辑发现无法直接将16进制的字符插入,会被自动写入字符串那边最后我使用了HxD这个软件,成功修改了. 然后上传成功.我们直接使用pass14页面的文件包含漏洞,打开文件包含入口页面.页面直接展示了源码.发现使用file字符可以通过get注入到include函数中. 1http://192.168.96.128/upload-labs/include.php?file=./upload/5320190221140730.png 输入payload,成功了 这里我们使用pass的方法.cmd的copy命令拼接成的文件就含有图片文件的头信息,使用十六进制编辑器查看是含有头文件的,所以同pass13一样可以绕过,这里就不再重复. pass15pass15查看源码使用了exif_imagetype()函数.上传时发生问题,页面无响应查看别人的writeup发现是没有开启服务器的php_exif模块.开启后上传上一个pass制作的图片码,成功了,没有继续去搜寻这个模块的作用,推测也是通过检测头的方式. pass16我们查看页面提示,知道了本例会比对文件后缀与文件结构是否相同,而且会重新渲染图片.这样我们即使绕过了比对,最后的图片会被重新渲染,插入的代码很可能就被修改了.使用的imagecreatefromgif函数渲染.由于需要些脚本比上传后的图片没有被修改的部分,所以我没有复现,只是了解了原理.这里放出一个链接,似乎是漏洞的发现者的文章:http://link.zhihu.com/?target=https%3A//secgeek.net/bookfresh-vulnerability/ 如果有时间将会专门编写脚本重新测试这个pass pass17这题的本意的考察条件竞争,什么意思呢.我也不知道.在搜索writeup的时候我发现了一个win+php时可以使用的方法. 方法一方法可以在:https://paper.seebug.org/92/#0x05-iisphp 的0x05标题下找到建议先观看 科普： 在php+window+iis环境下: 双引号(“&gt;”) &lt;==&gt; 点号(“.”)’; 大于符号(“&gt;”) &lt;==&gt; 问号(“?”)’; 小于符号(“&lt;“) &lt;==&gt; 星号(“*”)’; 其他原理不再说明直接给出操作过程.首先我们先利用特殊办法生成一个php文件，然后再利用这个特性将文件覆盖.. 我们上传一个写有一句话的php文件使用burp抓包.我们先修改文件名称 17.php:.jpg 1Content-Disposition: form-data; name=&quot;upload_file&quot;; filename=&quot;17.php:.jpg&quot; tips:冒号可以截断,冒号截断产生的文件是空白的页面提示图片不符合要求,我们查看服务器已经生成了一个17.php的没有任何内容的文件 然后继续修改上传名称17.&lt;&lt;&lt; 1Content-Disposition: form-data; name=&quot;upload_file&quot;; filename=&quot;17.&lt;&lt;&lt;&quot; 页面提示上传不符合要求,我们查看服务器,刚才的17.php文件已经有代码内容了. 方法二 条件竞争演示我们先不看源码演示过程,粗略的猜想下,这个就是利用代码设计者没有考虑到多线程并发造成的某些延迟问题.粗略的理解代码,这个pass先将文件上传然后比对,如果不符合条件再删除.所以要使用多线程造成程序堵塞,在这个时间访问页面.由于只能在我们不断写入的时候访问,很快就会被删除,我们要使用访问的这个文件去创建一个含有代码的文件. 首先编写一个 100.php 1&lt;?php fputs(fopen(&quot;info.php&quot;, &quot;w&quot;), &quot;&lt;?php phpinfo(); ?&gt;&quot;); ?&gt; //会在当前目录写入一个`info.php`文件,内容是&quot;&lt;?php phpinfo(); ?&gt;&quot; 由于现在还不会编写脚本.我使用burp的 intruder功能使用number类型的paylaod,变量直接设置在内容里 然后线程设置大一点线程的设置在intruder&gt;options&gt;request engin&gt;number of threads 然后开始执行,执行期间我们访问 这个100.php(可以先上传一个正常的图片获得),多刷新几次,发现页面显示235,也就是上传含有235的payload的时候这个页面执行成功了,说明当前目录下已经有了一个info.php文件了.我们尝试访问,显示了php版本页面,成功了. 分析查看源码 1234567891011121314151617181920212223$is_upload = false;$msg = null;if(isset($_POST[&apos;submit&apos;]))&#123; $ext_arr = array(&apos;jpg&apos;,&apos;png&apos;,&apos;gif&apos;); $file_name = $_FILES[&apos;upload_file&apos;][&apos;name&apos;]; $temp_file = $_FILES[&apos;upload_file&apos;][&apos;tmp_name&apos;]; $file_ext = substr($file_name,strrpos($file_name,&quot;.&quot;)+1); $upload_file = UPLOAD_PATH . &apos;/&apos; . $file_name; if(move_uploaded_file($temp_file, $upload_file))&#123; //不做判断直接上传了文件 if(in_array($file_ext,$ext_arr))&#123; //判断后缀 $img_path = UPLOAD_PATH . &apos;/&apos;. rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; rename($upload_file, $img_path); $is_upload = true; &#125;else&#123; $msg = &quot;只允许上传.jpg|.png|.gif类型文件！&quot;; unlink($upload_file); //不符合,就删除文件 &#125; &#125;else&#123; $msg = &apos;上传出错！&apos;; &#125;&#125; 补充函数: 定义和用法unlink() 函数删除文件。若成功，则返回 true，失败则返回 false。语法unlink(filename,context) 从我的简单注释发现,和之前的的描述一样.没有什么好分析的了.直接上传,判断不合法就删除.文件在多线程上传的时候就会有一个滞留时间,然后访问,执行代码. pass18条件竞争使用重命名上传,我还没有看源码 ,之后有时间查看 直接步骤由于上传的文件会被重命名.利用上传重命名竞争+Apache解析漏洞上传名字为18.php.7Z的文件,会被重命名为date().7z快速重复提交该数据包，会提示文件已经被上传，但没有被重命名使用burp和上面的步骤一样,只是这次可以直接上传webshell了尝试了几次一直没有在upload目录下找到上传的文件,发现是作者的代码有误构造的保存路径的upload后面没有加/,这个upload变成了文件名的一部分. 直到返回一个不同的页面.我们去文件路径下看. 有xx.php.7z这样的文件了.这里就可以使用apache解析漏洞直接访问. 1http://999.999.999.999/upload-labs/100.php.7z 就执行代码了. upload bypasswaf检测范围请求的urlBoundary边界MIME类型文件扩展名文件内容 测试时的准备工作：什么么语言？什么容器？什么系统？都什么版本？上传文件都可以上传什么格式的文件？还是允许上传任意类型？上传的文件会不会被重命名或者二次渲染？ 容器特性apache1.x 2.x文件后缀解析漏洞Apache在以上版本中，解析文件名的方式是从后向前识别扩展名，直到遇见Apache可识别的扩展名为止 ISS6.0解析缺陷目录名包含 .asp 、 .asa 、 .cer 的话，则该目录下的所有文件都将按照asp解析例如c:\wwwroot\cer.cer\haha.jpg这个文件就会被解析为.asp文件 文件名中如果包含 .asp; 、 .asa; 、 .cer; 则优先使用asp解析。例如： asa.asa;asa.jpg会被解析为.asp Nginx解析漏洞Nginx 0.5.Nginx 0.6.Nginx 0.7 &lt;= 0.7.65 Nginx 0.8 &lt;= 0.8.37以上Nginx容器的版本下，上传一个在waf白名单之内扩展名的文件shell.jpg，然后以shell.jpg%00.php进行请求。 Nginx 0.8.41 – 1.5.6：以上Nginx容器的版本下，上传一个在waf白名单之内扩展名的文件shell.jpg，然后以shell.jpg%20%00.php进行请求。 PHP CGI解析漏洞IIS 7.0/7.5Nginx &lt; 0.8.3 以上的容器版本中默认php配置文件cgi.fix_pathinfo=1时，上传一个存在于白名单的扩展名文件shell.jpg，在请求时以shell.jpg/shell.php请求，会将shell.jpg以php来解析 多个Content-Disposition在IIS的环境下，上传文件时如果存在多个Content-Disposition的话，IIS会取第一个Content-Disposition中的值作为接收参数，而如果waf只是取最后一个的话将会被绕过。 12content-dispositon:form-data; name=&quot;file&quot;; filename=&quot;shell.php&quot;content-dispositon:form-data; name=&quot;file&quot;; filename=&quot;shell.jpg&quot; 结合.htaccess这个方法通常用于绕过waf黑名单的，配置该目录下所有文件都将其使用php来解析 系统特性windows特殊字符当我们上传一个文件的filename为 1shell.php&#123;%80-%99&#125; 时(这个%80是哈希要用hex编辑)：waf可能识别%80-%99,但是window会识别为空格,而后缀名的空格会被windows忽略. exee扩展名上传.exe文件通常会被waf拦截，如果使用各种特性无用的话，那么可以把扩展名改为.exee再上传。 NTFS ADS特性ADS是NTFS磁盘格式的一个特性，用于NTFS交换数据流。在上传文件时，如果waf对请求正文的 filename 匹配不当的话可能会导致绕过 上传文件名 服务器表面现象 生成文件内容 test.php:a.jpg 生成test.php 空 test.php::$INDEX_ALLOCATION 生成test.php文件夹 test.php::$DATA.jpg 生成test.php 原内容 Windows在创建文件时，在文件名末尾不管加多少点(空格也是)都会自动去除，那么上传时filename可以这么写 shell.php…… 也可以这么写 shell.php::$DATA……. 数据过长导致的绕过waf如果对Content-Disposition长度处理的不够好的话可能会导致绕过 基于构造长文件名:如果web程序会将filename除le 扩展名的那段重命名的话，那么还可以构造更多的点、符号绕过重命名. 1filname=&quot;shell.............................................................................................................................................................................................................................................................asp&quot; 特殊的长文件名：文件名使用非字母数字，比如中文等最大程度的拉长，不行的话再结合一下其他的特性测试： 1shell.asp;王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王王.jpg wafbypass_upload一些总结绕过在这里放上个人之前总结的30个上传绕过姿势： 1234567891011121314151617181920212223242526272829301. filename在content-type下面2. .asp&#123;80-90&#125;3. NTFS ADS4. .asp...5. boundary不一致6. iis6分号截断asp.asp;asp.jpg7. apache解析漏洞php.php.ddd8. boundary和content-disposition中间插入换行9. hello.php:a.jpg然后hello.&lt;&lt;&lt;10. filename=php.php11. filename=&quot;a.txt&quot;;filename=&quot;a.php&quot;12. name=\n&quot;file&quot;;filename=&quot;a.php&quot;13. content-disposition:\n14. .htaccess文件15. a.jpg.\nphp16. 去掉content-disposition的form-data字段17. php&lt;5.3 单双引号截断特性18. 删掉content-disposition: form-data;19. content-disposition\00:20. &#123;char&#125;+content-disposition21. head头的content-type: tab22. head头的content-type: multipart/form-DATA23. filename后缀改为大写24. head头的Content-Type: multipart/form-data;\n25. .asp空格26. .asp0x00.jpg截断27. 双boundary28. file\nname=&quot;php.php&quot;29. head头content-type空格:30. form-data字段与name字段交换位置]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>文件上传</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[myeclips 无法使用工作空间问题]]></title>
    <url>%2F2018%2F11%2F28%2Fmyeclips-%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[myeclips出现过几次打开报错:Workspace in use or cannot be created xxx is in use or cannot be created. Please choose a different one. 问题出在.lock文件,目录为workspace/.metadata/.lock 使用过的解决方案两种:一种是解除占用,如果这个文件被占用,直接使用软件解除占用,或手动结束占用的程序即可. 如果这个文件没有被占用,直接删除即可. RECOMMENDjava期末总复习资料]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>坑</tag>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[小米6 刷机可能会涉及的到的资源]]></title>
    <url>%2F2018%2F10%2F31%2F%E5%B0%8F%E7%B1%B36-%E7%B1%BB%E5%8E%9F%E7%94%9F%E5%88%B7%E6%9C%BA%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%B6%89%E5%8F%8A%E7%9A%84%E5%88%B0%E7%9A%84%E8%B5%84%E6%BA%90%2F</url>
    <content type="text"><![CDATA[目前记录的是刷机我会用到的资源,每次刷机都是用标签一个个点开挺麻烦,这里整理一下 20181106: 之前忘了说直接从起来类原生到sbw编译的 aex p会加密data,可以直接取消密码输入,能开机,能使用,但是最好还是格式化data吧.20181101: 我的rec使用的sbw网站tool文件夹内的rec,底包使用xda最新国际版,gapps官网最新版,vantom内核也是最新版本(刷入sbw 维护的AEX) ROM 这是sbw的AEX包,内含较老的rec,fw底包,不知道下载哪个包的话,很简单–下载最新的就好了,sbw已经支持OTG.sbw自动化编译 RR 6.0 ,xda地址,之前使用的rr包地址.RR 6.0 official w官改包群组 TWRP使用不同作者的包请先寻找作者是否有提供TWRP,如SBW的unofficial ROM 就不能使用原版TWRP official TWRP 米6官方的twrp RR使用的twrp 使用official twrp错了所以使用了这个 SBW使用的twrp 谷歌套件 opengapps官方地址 网站状态糟糕,服务器也时常抽风 github的opengapps仓库镜像 能访问真正的互联网的话建议在这里下稳定很多. Magisk xda magisk 发布页面 Firmware fm的sourceforge下载页面 fm的xda发布页面 中文rec刷入工具 coffaceTool vantom内核 vantom RECOMMENDMi6 刷入记录AEX ROM 修改开机动画概论复习参考（大三毛概课程期末考复习材料）]]></content>
      <categories>
        <category>资源分享</category>
      </categories>
      <tags>
        <tag>刷机</tag>
        <tag>分享</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AEX ROM 修改开机动画]]></title>
    <url>%2F2018%2F10%2F28%2FAEX-ROM-%E4%BF%AE%E6%94%B9%E5%BC%80%E6%9C%BA%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"><![CDATA[sbw 的米6 AEX更新到了20181024版本,上一个版本是1014的,我使用之前的自己修改的magisk模块修改开机画面失败了.magisk模块修改的路径是system/media,查看这两个位置在文件管理器中确实被替换了,但是搜索后ROM原版开机动画位置是/sbin/.core/mirror/system/media/那就照猫画虎呗. 直接替换bootanimation.zip文件,修改权限,重启,成功.值得一提的是,我修改/sbin/.core/mirror/system/media/目录下的文件名称一直失败,但是替换文件却是成功的,不知道为什么. 以前修改别人的模块就是做个简单的system文件夹替换改下sh脚本的路径,但是这个不在system目录下的文件尝试修改了下,不成功.magisk模块也不知道该怎么修改了,不在system 分区似乎面具就不能使用呢,有大佬知道的话麻烦告知. 修改目录: /sbin/.core/mirror/system/media/ RECOMMEND跳过谷歌开机验证的方法Hexo建站小记Windows To Go系统安装记录]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>折腾</tag>
        <tag>刷机</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Win下批量 关闭/打开 进程]]></title>
    <url>%2F2018%2F10%2F27%2FWin%E4%B8%8B%E6%89%B9%E9%87%8F-%E5%85%B3%E9%97%AD-%E6%89%93%E5%BC%80-%E8%BF%9B%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[折腾的时候系统给蹦了,重装的时候不小心把一些资料丢失了,好在系统是备份了的,软件不用重装.我一直使用的启动/关闭软件的批处理也要重新写一下.在Win10下我一直是用这个批处理”开启游戏模式”&amp;”恢复工作模式”这样的情景.下面介绍下怎么自己写一个简单的执行脚本. 批处理命令即使你没怎么接深入触过脚本,bat文件一定是见过不少的,什么破解软件,什么快捷设置.简陋,好用.这里介绍使用bat脚本批量关闭/打开软件. 实现关闭/打开 总共就两个语句. 关闭程序这是第一个语句1taskkill/im example.exe /f /t 参数im也可以换成pid不过就不能使用image name指定程序了,得使用pid,pid是动态的,所以还是用im实用些./f参数指定强制关闭/t参数指定关闭进程树,我没有使用. image name的获取方式:可以使用命令行获取到,但是win10下使用任务管理器能方便的获取.任务管理器-&gt;进程对需要关闭的进程 右键-&gt;属性-&gt;常规可以看到程序的名称. 例如我要关闭上图这个资源管理器我需要的命令就是: 1taskkill/im explorer.exe /f 打开程序第二个语句 1start /d &quot;C:\Program Files\&quot; example.exe /d参数后是需要打开文件的根目录,空格后就是你需要大开的文件了,这个文件可以是.exe,.ink,.url总之能够打开你的程序就好.你可以直接查看你软件的快捷方式,其中的起始位置就是你需要填入的路径,目标中的路径里最后的.exe就是你需要启动的文件名称. 例如我需要启动上面这个EagleGet使用如下命令: 1start /d &quot;C:\Program Files (x86)\EagleGet\&quot; EagleGet.exe 创建bat文件新建一个文本文档,改为example.bat,你首先得在资源管理器-&gt;查看,中勾选文件扩展名不然你创建的文件实际上是这样的example.bat.txt. 创建好后,右键-&gt;编辑 每一行写一条批处理命令 123taskkill/im example1.exe /ftaskkill/im example2.exe /ftaskkill/im example3.exe /f 这样一个bat文件,可以执行无限多行语句,上面的例子结束了三个程序.保存编辑后,只需要双击bat文件就执行了.你可以这样写两个bat文件分别执行批量启动/关闭.也可以搭配一些简单的选择循环语句,在一个bat文件里执行两种命令. 创建非常简单,语句也只有启动和结束.这个脚本语言甚至没有特别严格的书写规范,唯一需要注意的是符号必须是英文半角.有保护的程序如杀毒软件无法简单的结束进程. 下面是我使用的bat文件,可以用作参考.baidu链接：https://pan.baidu.com/s/1VjunSk50ufDUVYYz9tdpTw提取码：4p7c蓝zou链接:htt删ps://ww删w.lanz删ous.co删m/i27hwwf Startup Delayer这里推荐个软件 Startup Delayer官网:https://www.r2.com.au/page/products/premium-edition/startup-delayer/用来延迟开机自启的软件,我需要一些软件长驻后台,但是又不希望让这些软件在计算机启动的时候(计算机刚启动各种系统服务计算机繁忙)占用资源,所以让它们延迟启动.我设置为在cpu空闲大于80%的时候自动启动.这个软件基本可以用来管理所有的启动项了. 高级版也没多什么核心功能,免费版已经够用,没有广告.喜欢的话也可以支持一下似乎是20刀. 你也可以手动设置延迟启动的时间,不过我觉得这样根据空闲资源启动更加合理.我也没用多久,这个软件有中文语言,可设置项目也很多,自己去探索吧 RECOMMENDRD Client 简明教程Windows To Go系统安装记录Win磁盘MBR转换为GUID系统后门]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Windows To Go系统安装记录]]></title>
    <url>%2F2018%2F10%2F15%2FWindows-To-Go%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[本文记录了我安装WTG系统的坑与过程,使用的WTG辅助工具,写本文时还没体验系统,目前使用了U盘和机械硬盘.到目前为止这个文章记录的WTG系统是可以日常使用的状态,做了基本的优化,之后我会继续按照使用更新. 本文仅针对win电脑.如果你是一个小白而且不想看大段文字只是想体验下WTG,那么和 我的环境 保持一致,然后严格按照我的操作步骤就好 某些重要的修改日志之前文章出现的错误或之后进行优化的步骤,在此记录 20181022 不再建议使用1703版本制作WTG20181022第一次WTG开机后注意将自动更新关闭或者修改注册表开启更新,否则可能导致无限重启 Windows To GO(WTG)介绍 官方介绍是啥自己去百度,我的理解WTG系统就是一个超级完整能够日用的PE系统. 移动设备经费不多,移动硬盘体积太大,并非重度用户只是体验系统,所以我选择了cz73 64g版本,此时价格89RMB,实际容量58G.4k读写上稍微低于WTG最低性能要求.不过应该还是可以用.闪迪没有量产工具,所以装机有很多问题,这些问题我之后会说到.之后使用了机械硬盘,目前为止机械硬盘我还没有体验. WTG制作,移动设备比较看重4K性能. 使用辅助工具可以在大多数存储设备上制作WTG系统,所以你在用来换盆的手机上做也可以,不过肯定会卡的怀疑人生 建议存储空间至少大于16G,不过我看到有个老哥用8GU盘也做了一个,没有屏蔽本地磁盘,还欢快的打着LOL 需要知道的WTG辅助工具高级选项(必读) 本教程全程使用的WTG辅助工具,官方工具没有使用,Dism++制作并手动添加引导也一直失败,具体问题我也没去研究 制作后会格式化移动设备的所有分区,做好备份 常用中,传统模式只能用于识别为本地磁盘的设备,VHD&amp;VHDX只能制作Win8以上的系统,且得使用win7以上的系统环境写入. 传统模式可能会无法安装一些较大的软件 选中固定大小会提高系统的效率,但是虚拟硬盘中的空闲空间就不能使用了. 只有传统模式可以不重新分区,但是我建议小白都勾选上重新分区,避免莫名其妙的问题. 只有传统模式下可以使用Bitlocker,它可以保护WTG文件系统在其他系统中不损坏,你只要不去刻意修改WTG系统文件通常是不会坏的的,但是可能会和还原软件冲突. 禁用UASP会略微降低移动存储设备性能,禁用后的WTG系统(可能会)支持拔出冻结,就是运行WTG系统拔出后PC不蓝屏,再次插入后会弹出一个警告,告诉你拔出可能会损失数据.之后可以看这里UASP详细 分卷选项选啥都无所谓 UEFI+GPT:支持UEFI模式启动 UEFI+MBR:可支持UEFI和传统双启动,有的主板不支持或者没有设置为UEFI,所以如果你想把U盘带到学校机房,最好使用这个模式. VHD选项只有选择VHD&amp;VHDX模式才能使用 使用VHD&amp;VHDX模式后如果你不手动添加分区会有两个分区一个efi分区一个系统分区,可能还会剩余一部分未分配区域,我多次尝试后发现未分配区域不会超过总容量的一半.识别为本地磁盘的设备目前没发现会剩余未分配空间. 虚拟硬盘大小为0时是自动大小 VHD分区表默认,或者和前面常用选项卡的设置保持一致. VHD中转目录通常不用管,只是一个缓冲目录 系统选项卡我也不太了解,或者说是用不到 修复盘符可以解决一些启动问题 屏蔽本机硬盘：在WINDOWS TO GO系统启动后不加载本机硬盘，避免某些还原软件出错.注意：如果本机系统版本低于优盘系统版本，则不能使用此选项. 无默认盘符：每次优盘插入后，不会自动分配盘符 分区选项卡我的U盘不能分区,移动硬盘可以分区,原因未知,分区后系统图会自动装入第一个容量不为0的分区 EFI分区大小默认350m即可. 磁盘选项卡我不做介绍,如果移动存储设备性能不够好保持默认就好,如果读写速度够快可以勾选不中转VHD,前提是你使用的VHD&amp;VHDX模式. 其他注意与建议(必读) wtg要放在纯英文目录下 如果制作失败(闪退报错),可以再大力点鼠标键盘再试一次 如果要使用其他系统镜像,最好使用企业版,会避免很多问题. 不建议在虚拟机中写入,我使用VM,WTG系统出现了几次玄学闪黑 安装后WTG系统请使用本地(域)账户,否者你的WTG系统更换PC机器后会出问题 有些软件通过机器mac地址与账户绑定,登录会出错,所以更换机器后可能需要重新登录 第一次WTG开机后注意将自动更新关闭,或者修改注册表开启更新,否则可能导致无限重启. 统一环境这里列出我的环境,为了避免遇到其他的坑,如果你的环境和这个一样,也许会和我遇到同样的问题,下面的步骤会尽量避开我遇到过的问题如果你是一个小白而且不想看前面的必读只是想体验下WTG,那么和我的环境保持一致,然后严格按照我的操作步骤就好 intel cpu,amd我没有机器做测试. 没有安装NVIDA显卡驱动 WTG辅助工具:https://bbs.luobotou.org/thread-761-1-1.html 我使用的4.8.2.0版本 win10 1703镜像:https://bbs.luobotou.org/forum.php?mod=viewthread&amp;tid=17755&amp;fromuid=1 使用win10 1803 镜像,可在I Tell You找到原版镜像. 你可能会用到分区精灵,这个是我使用的某版本 提取码vczc,免费版已经完全够用不建议使用破解版,有机会还请支持这种良心软件. 使用WIN10x64 1809企业版系统写入 不建议在虚拟机中写入 开始制作请确保你已经阅读完 需要知道的WTG辅助工具高级选项 和 其他注意 不保证操作的安全性,有可能损坏硬盘,且已知有人使用WTG系统烧坏主板,请明确风险,制作的WTG中造成的任何损失与本文作者无关.之后的制作过程只讲述怎么操作,你可以和我的设置一样也可以自己按照需求制作,经过n次反复重装我认为这是最适合我的的配置,阅读完上面的必读你应该能够自己按需要设置.如果你是一个小白而且不想看前面的必读只是想体验下WTG,那么和我的环境保持一致,然后严格按照我的操作步骤就好 使用U盘制作问题与使用描述设备识别为可移动磁盘所以只能使用VHD&amp;VHDX模式,且由于是U盘,磁盘分区后不能给剩余空间的分区分配盘符,多余的空间就无法利用,所以我们通常会想把法让WTG系统占用全部的空间.或者使用量产工具让U盘识别成本地磁盘(自行百度),不幸的是我的闪迪没有量产工具. 实际上使用WTG辅助工具制作的时候,总会剩余很大一部分未分配空间.使用不同模式GTP或者MBR都会剩余只是剩余空间不同,GTP会剩余的比较少大概5GB内,MBR会剩余一半空间.且这部分空间我按照教程使用DiskGenius合并到系统分区时会报错错误log为文件分配表中有标记为已使用的未用簇百度上的处理办法使用了几个都未解决之后手动删除分区合并再克隆分区,导致系统启动蓝屏,理论上这个思路是对的,但是之后没有耐心研究哪里出问题,遂放弃.我最开始使用UEFI+GTP选项制作,因为这个选项剩余未分配空间少,大约3g,但是不支持传统启动,拿去实验室机房,那个方正主板,直接开机开了4个小时还在黑屏.后来就使用的UEFI+MBR,实验室方正电脑就能用,但是直接29G的未分配空间我不能利用,简直浪费,目前还没找到解决办法(这个应该是这辅助工具的bug看N大啥时候解决?)根据WTG辅助工具的说明使用传统写入模式才会出现软件无法安装的问题,但是我用下面的步骤(VHDX)制作完成后也会有一部分软件不能使用,不知道是不是自己硬件问题还是操作问题,错误log多与windows installer有关.不过主流软件都是可以使用的,qq,网易云,chrome啥的,一颗利普斯也能安装.lol能够运行, office 2016不能安装用wps代替,还有一些我自己常使用的小工具软件.有的软件无法自启会报注册表错误,只能把需要开机启动的软件写个脚本,开机了手动执行下.cmd有概率无法打开,power shell 没有这个问题.学校的usb2.0使用我的cz73,依然能够使用Chrome开几个标签,同时打开QQ,S酸R,百度云.使用时没有明显卡顿,但是打开软件时会卡很久,系统内通过软件传输数据可以达到5m/s,我的U盘写入上限是20m/s,学校网速上限也是20m/s.在自己的3.0pc上就完全不卡了.总之如果你没有重度需求,日用处理资料是够了. 吐槽下学校方正电脑,系统还原卡居然用弱密码口令,手动输了大概5个密码就打开管理员权限了,装个win10配置好,美滋滋,WTG系统什么的都不需要了,以后每次去都用同一台电脑.昨天一个漂亮妹子坐在那里,但是我很气愤,以”这个是我上午用的座位”把她赶跑了,这么好的位置让她用岂不是浪费! 操作步骤 未说明的选项请保持默认 装载镜像,使用虚拟光驱软件,在win10下可以直接双击装载. 打开wtg辅助工具在浏览的选框中选择装载镜像内的 sources/install.vim 性能测试前的选框,选择需要写入的移动设备 常用:选择VHDX,分卷默认,勾选UEFI+MBR,勾选禁用UASP(这里也可以不选) 勾选固定大小 VHD:虚拟硬盘大小0gb,这个看U盘实际情况,后续如果不够还可以修改容量 系统选择屏蔽本机硬盘,不屏蔽有概率破坏本机文件系统,勾选修复盘符 点击创建,就开始制作了! 等待创建完成 最后的成功提示和设置如下图 创建完成后里BIOS调整你的移动设备最前,就启动了,如果不会可以参考这个帖子:https://bbs.luobotou.org/forum.php?mod=viewthread&amp;tid=804&amp;fromuid=1其实百度更好,这帖子图好伤眼睛.启动后和一般win系统使用没有差别,因为是新系统所以需要初始设置后面的章节会详细介绍. 使用移动硬盘制作东芝 2t usb3.0 问题与使用描述目前只是安装好了还没长时间测试使用效果,明显感觉移动硬盘启动速度快于U盘.没有剩余空间(即使有也可以合并到系统分区,或者自己给他分配盘符当存储使用),而且如果对便携性没有太大要求使用移动硬盘体验好很多,长时间使用没那么容易掉速,毕竟有大缓存,当然你也可以使用WTG土豪专用U盘. 操作步骤和U盘制作步骤一样 装载镜像,使用虚拟光驱软件,在win10下可以直接双击装载. 打开wtg辅助工具在浏览的选框中选择装载镜像内的 sources/install.vim 性能测试前的选框,选择需要写入的移动设备 常用:选择VHDX,分卷默认,勾选UEFI+MBR,勾选禁用UASP 勾选固定大小 VHD:虚拟硬盘大小0gb,这个看U盘实际情况,后续如果不够还可以修改容量 EFI分区大小默认,分区一407726,分区二1500000,分区三0.分区一占了1/4,是系统盘,分区二是存储资料的区占3/4,不包含在WTG内,WTG依然可以使用它安装软件,交换数据. 系统选择屏蔽本机硬盘,不屏蔽可能主机原本的文件系统,勾选修复盘符 勾选不中转VHD,可以更快速创建. 点击创建,就开始制作了! 等待创建完成 创建完成后里BIOS调整你的移动设备最前,就启动了,如果不会可以参考这个帖子:https://bbs.luobotou.org/forum.php?mod=viewthread&amp;tid=804&amp;fromuid=1其实百度更好,这帖子图好伤眼睛.启动后和一般win系统使用没有差别,因为是新系统所以需要初始设置后面的章节会详细介绍. 基础优化与后期设置软妹魔方地址:http://mofang.ruanmei.com/这软件现在有点流氓,下载绿色版吧.有广告没啥,篡改主页真的烦人,特别是我这种啥安全软件都没装的人. 关闭不必要的服务项以下服务都可以关闭: Windows searchWindows Error Reporting ServiceBackground Intelligent Transfer ServiceHomeGroup ListenerHomeGroup Providerwindows updateWindows Event LogSuperfetchWindows Defender ServiceSecurity CenterShell Hardware Detection 关闭系统休眠系统休眠会在WTG系统中发生一些问题 WTG系统下用系统管理员打开cmd 输入powercfg -h off 打开控制面板-&gt;控制面板\所有控制面板项\电源选项\编辑计划设置`关闭显示器和进入休眠状态都设为永不` 关闭磁盘整理自动磁盘整理会拖慢系统速度,而且如果是非机械硬盘磁盘整理只能消耗磁盘寿命.如果需要整理手动就好 对着需要关闭的磁盘右键属性 工具-&gt;优化-&gt;关闭自动优化 关闭系统视觉效果降低性能消耗 此电脑右键属性-&gt;高级系统设置-&gt;高级-&gt;性能groupbox-&gt;设置-&gt;视觉效果-&gt;调整为最佳性能 确定 使用内存虚拟硬盘使用软妹魔方内存盘将系统临时文件放进去,如果你内存够大也可以把其他软件的临时缓存放进去,这样工作量就太大了,这里只事例一个系统临时文件,其他软件同理. 进入WTG系统 打开魔方内存盘(ramdisk)点击创建内存,内存盘大小根据自己内存大小决定由于我要在学校机房使用,所以我只设置了250m 勾选开机启动加载此内存盘,关机保存看自己,我选择不保存.确定 打开魔方设置大师(winmaster)-&gt;系统文件夹设置 取消勾选只显示推荐修改的项目 修改临时文件夹的目标路径为Z:\TEMP,这里的z为你创建的内存盘的盘符 修改当前用户临时文件夹的目标路径为Z:\Temp 修改IE的Cookies的目标路径为Z:\ieCookies 点击开始转移 设置完成 系统更新WTG系统是不能自动更新的,可以用如下步骤实现自动更新 进入WTG系统 win+r输入regedit,回车 修改注册表,定位到\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\PortableOperatingSystem记住现在的数值(我的数值为1),然后将值改为0(16进制). 这样就可以正常更新系统了,更新完成后一定要记得改原来的值. 无UASP实现拔出冻结拔出冻结功能很有意思,我可以拔出U盘然后去吃饭不用担心别人动我的电脑,应为他操作不了.回来插上就可以继续使用,是不是很炫酷.好吧我承认没什么卵用,但是我可以不用但不能没有.其实还是可以防止不小心碰到U盘让系统崩溃.而且老主机如果不禁用UASP系统容易崩溃(说的就是你方正电脑),所以我个人是建议禁用UASP的.牺牲点速度换取与稳定与安全. 前人测试,要想支持拔出冻结有下面几个条件,但有人反馈支持uasp的设备不禁用uasp也可以实现拔出冻结. 移动存储设备在资源管理器中识别为本地磁盘,U盘可使用量产工具实现有些主机为USB 2.0接口(说的就是你方正主板)似乎也不能支持,所以两端都为USB3.0更好不能支持UASP,如果你的设备支持那么就要禁用. 制作时勾选禁用UASP,成功制作WTG并运行后桌面上将会出现DisableUASPHost.exe，运行它后重启即可禁用UASP. 更改VHD虚拟硬盘容量介绍虚拟硬盘大小选项可以自己设置虚拟硬盘大小,之后系统使用中也可以修改(不会重装系统损失文件)下面介绍设置为0的情况,为0代表自动大小.(前提是你没有勾选固定大小)如果自动分配了20g,你的系统使用了10g在WTG系统中看你就有10g剩余空间(不包含空闲空间和你自己没有给wtg系统的分区),但是这个移动磁盘插在电脑上直接看容量就使用了20g,当你把剩余10g空间使用完,虚拟硬盘就会自动扩充(如果你物理磁盘分区还有可用空间的话). 假设你的U盘只有两个物理分区,一个系统分区,一个efi分区,那么在VHD&amp;VHDX模式制作下进入WTG系统你就可以在资源管理中看到两个盘,一个C盘是系统盘,一个D盘几乎被占满. 如果你给U盘三个物理分区,一个系统分区,一个efi,一个自己存储文件的分区,并且没有勾选无默认盘符,那么进入WTG后就有三个分区,多一个你自己存储文件的分区,这个分区可以用于WTG系统和主机系统交换文件,且即使占满也不会影响WTG系统. 更改容量如果我们新建的VHD磁盘容量不够了，或者VHD磁盘占用了优盘较多空间，可以使用如下方法调整,不会损失文件.已经差分的VHD不能随意调整容量，需要先合并VHD或删掉子VHD！在本机系统中操作不能再WTG系统中操作使用bootice,在WTG辅助工具的,工具中,我的BOOTICE版本为1.3.4 打开本机系统后,插上WTG的U盘 物理磁盘-&gt;目标磁盘选择WTG的磁盘 磁盘镜像-&gt;镜像文件选择你的WTG系统分区里的wtg.vhdx,类似的文件,如果你是按照我的步骤做的,应该是这个文件名. 点击VHD文件信息,选择重设容量,设置一个比你需要的容量,注意单位,最好扩大,缩小可能导致数据丢失,且win8以上的系统才支持缩小. 点击`设定,可能会等很久,取决于你修改的大小和系统配置. 修改完成后进入WTG系统,对此电脑右键,管理-&gt;存储-&gt;磁盘管理 对你安装WTG系统的磁盘的,系统分区(通常c盘)右键扩展卷 下一步-&gt;下一步-&gt;完成 备份与恢复系统备份的方法有很多,GHOST,Dism的wim,还有直接备份VHD文件Dism可以直接用Dism++制作备份文件,还原时直接用ＷＴＧ辅助工具按照同制作WTG的方法一样,制作就好.GHOST不介绍了这里讲VHD文件备份,只适用于VHD&amp;VHDX模式. 备份 将移动磁盘内的xx.vhd或者xx.vhdx文件复制到需要备份的位置 备份完成 是不是炒鸡简单 还原 打开WTG辅助工具选择还原的移动磁盘 选择xx.vhd&amp;xx.vhdx文件为安装镜像(需要更改筛选为所有文件). 右侧参数和你制作系统是保持一致 点击制作 关于这个介绍帖子的提问Q:WTG需要手动安装驱动么?A:不需要,win10会自动打上必要的驱动,如果你要玩游戏或者做图形编辑需要手动装显卡驱动. Q:为什么不用官方工具?A:用不了,官方工具有U盘限制,买不起那种U盘. Q:安装WTG后可以同时装PE么?A:可以,参看U盘安装win+ubuntu+winpe教程. Q:可以用安卓手机制作WTG系统么?A:可以但你只能用安卓手机当存储设备,写入还是得用win,使用辅助工具可以在大多数存储设备上制作WTG系统,所以你在用来换盆的手机上做也可以,有老哥成功过,不过肯定会卡的怀疑人生. Q:WTG系统可以更新么?A:可以,查看系统更新. Q:WTG用起来卡么?A:我可以用移动硬盘做的系统打 无主之地,这取决于你机器的性能和U盘的读写能力. Q:哪些U盘可以适合做WTG系统A:参看适合WTG的USB闪存盘大排名. Q:WTG写入U盘很久都没完成怎么办?A:等待,如果超过一个小时还没完成,尝试删除所有分区格式化后再使用WTG辅助工具写入,如果还是不行,很可能是你的U盘不适合做WTG系统 Q:WTG系统很久都没有启动A:等待,确实需要启动很久,如果出现了微软的flag标识应该就是能够成功启动的,超过30分钟没成功就要考虑重启,或者重新制作了. 其他你可能需要的链接这里列出我省略的一些操作,我上文写的内容都是我自己测试过没有问题的,下面这些多是我测试后没有成功,或者没有什么效果的还有一些其他的科普向链接.如果你想尝试可以从下面快速导视,我将论坛主要的帖子列了出来,方便自己以后查看. Windows To Go 制作帮助（FAQ、常见故障) 禁用UASP 实现”拔出冻结”功能 使用WTGA部署WTG工作区后剩余未分配空间的解决方法 此方法已经有多人会遇到产生文件分配表中有标记为已使用的未用簇 未分配空间的另一种解决方法 WTG辅助工具高级选项说明 Windows To Go 系统备份还原 EWF与FBWF相关教程 EWF能够提速,我没有使用 RECOMMEND跳过谷歌开机验证的方法RD Client 简明教程Hexo建站小记系统后门]]></content>
      <categories>
        <category>教程</category>
      </categories>
      <tags>
        <tag>折腾</tag>
        <tag>windows</tag>
        <tag>wtg</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Adobe CC2018 破解步骤]]></title>
    <url>%2F2018%2F10%2F14%2FAdobe-CC2018-%E7%A0%B4%E8%A7%A3%E6%AD%A5%E9%AA%A4%2F</url>
    <content type="text"><![CDATA[本文介绍了如何破解Adobe CC2018系列,仅用于研究技术使用,20小时内删除,请不要用于商业用途.截止目前2018年10月依然可以使用.Adobe更新全线产品，目前最新版本号为CC2018,并且采用了在线安装的方式.我们需要注册adobe账号.破解方式很简单 注册adobe账号直接进入Adobe Creative Cloud:https://creative.adobe.com/products/download/creative-cloud下载软件并在软件内完成注册,我使用了outlook的邮箱注册,可行.安装完成后再软件中可以修改cc系列软件的安装路径等常规设置,请自行确认. 安装cc2018系列软件在Apps中对喜欢的软件点击试用,等待安装完成 使用注册机下载注册机amtemu.v0.9.2.win-painter 链接：https://pan.baidu.com/s/1hz4-kGWtfnRFZdR_Y2oNjg提取码：9kwb 将文件解压到你安装的软件的目录例如我的是E:\example\adobecc\Adobe Photoshop CC 2018.确保你解压的amtemu.v0.9.2-painter.exe等文件在这个目录下.运行amtemu.v0.9.2-painter.exe第一个列表里选择需要破解的软件如我要破解ps cc2018那么我就选择adobe photoshope cc2017然后点击Install在弹出文件窗口中选择amtlib.dll确定.好了这样就算破解完成了 如何确认破解成功打开PS软件，在帮助菜单中看到“AMTEmu by PainteR”说明破解成功 参考本文参考自乐软博客 RECOMMEND跳过谷歌开机验证的方法Hexo建站小记Windows To Go系统安装记录]]></content>
      <categories>
        <category>资源分享</category>
      </categories>
      <tags>
        <tag>折腾</tag>
        <tag>adobe</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux 安装.pl文件]]></title>
    <url>%2F2018%2F10%2F08%2FLinux-%E5%AE%89%E8%A3%85-pl%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[由于需要使用到VMvare tools,他提供了一个.gz格式的压缩包,Vmvare指示解压后执行.pl文件,无法使用rpm安装.自然也不能像win一样直接双击.pl文件. 系统环境虚拟机下的Red Hat enterprise Linux 7 解压文件在VM提供的虚拟光驱中执行解压命令后我不知道文件解压到哪里去了,所以我把压缩包复制到了桌面上.然后在桌面目录下执行解压命令tar -zxvf [压缩包名称] -C [解压到的目录] 1# tar -zxvf VMwareTools-10.1.6-5214329.tar.gz -C /root/etc 执行pl文件cd到解压后的目录(.pl文件的目录),执行命令./[文件名称] 1# ./vmware-install.pl 执行后每次有提示都一路回车走,知道返回到原来的目录提示符,就算安装完成了. RECOMMENDscapy基本操作]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>vmware</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HEXO的常用MarkDown语法]]></title>
    <url>%2F2018%2F09%2F10%2FHEXO%E7%9A%84%E5%B8%B8%E7%94%A8MarkDown%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[不会详细介绍,只是简明的写下用法与注意事项,本文适合,已经有MD写作经验的人,如果需要详细了解学习请参看 标题12# 我是一级标题## 我是二级标题 直接#开头空格然后标题内容,必须有空格,貌似最六级标题. 内容强调加粗斜体12*斜体* **加粗** 内容和符号之间不要有空格 删除线1~~啊我被删除了~~ 内容和符号之间不要有空格 高亮1`突出我` //md中想打出这个点(`)需要转译(用\加需要转译的符号) 引用标准引用12345&gt; 第一行&gt; 第二行&gt; 第三行不在引用 符号前没有空格,符号后有空格,两个回车结束引用,如果不输入两个回车,后面的内容即使没有&gt;也会在引用中. 嵌套引用123456789101112&gt; 第一层&gt;&gt; 第二层&gt;&gt; 第二层&gt;&gt;&gt; 第三层&gt;&gt; 还是第三层 //必须像下面一样空一行才能降级&gt;&gt; 第二层&gt;&gt;&gt; 第三层&gt; 第一层不再引用 代码块1234```Log.d(TAG,&quot;hellowmarkdown&quot;);``` 如果要在代码块中打出三个点,外部代码块用四个点就可以了另外第一行的三个点还可以加上语言说明,来决定内部代码的语法识别 123```javaSystem.out.print();``` 链接插入12[链接说明](https://www.baidu.com)[我的信息](/about/) 图片插入12![图片](https://example/av.jpg)![我的头像](/images/avatar.png) 链接自动检测1百度:https:wwweibo.com 放在冒号后的链接会被自动检测,后面如果是网址,就变为可点击的链接. 页面内锚点跳转首先建立一个跳转链接 1[说明文字](#jump1) 然后在需要跳转的地方标记锚点 1&lt;span id=&quot;jump1&quot;&gt;跳转的位置&lt;/span&gt; 列表无序列表12345+ 一级 + 二级 + 二级+ 一级没有三级 符号后要有空格,二级在符号前加一个空格,符号也可替换为- *效果相同有道笔记的md语法不通,二级列表最前面使用的不是空格而是制表符tab 有序列表1234561. 一级1. 一级1. 一级 1. 二级 1. 二级 没有三级 同无序一样,没有三级,符号变为数字,转换为md后会自动生成序列号,所以无需手动给数字序号(你要给也行). To-do List123+ [x] 已完成 + [x] 已完成+ [ ] 未完成 [x] 已完成 [x] 已完成 [ ] 未完成 表格123| 一列 | 二列 || :------------- | :--------------: || 香蕉 | 苹果 | 一列 二列 香蕉 苹果 每个注意每行的内容与|之间要有空格,而且hexo上必须要在行首空一行,:是控制对其的,第一列左对齐,第二列居中 引入iframe使用iframe引入其他网页,由于外部容器是固定大小,而且引入的网页通常比这个容器大,我尝试实现让引入的网页缩放,由于是跨域的请求所以无法对引入的网页实现内容的操作.尝试使用css特性transform的scale()来缩放,失败了.目前只能让iframe保留滚动条,这样至少可以通过滚动条查看页面所有内容. 1&lt;iframe name=&quot;网易简报&quot; width=&quot;100%&quot; height=&quot;500px&quot; frameborder=&quot;1&quot; src=&quot;http://note.youdao.com/noteshare?id=34642bf8ba5bd1ba341d67b9fe35153a&quot;&gt; &lt; /iframe&gt; 特殊&amp;数学符号上下标MarkDown兼容HTML语言,直接使用HTML的语法 下标A1: A&lt;sub&gt;1&lt;/sub&gt; 上标A1:A&lt;sup&gt;1&lt;/sup&gt; RECOMMENDHexo建站小记HEXO next live2d插件删除问题qexo多作者解决方案]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HEXO 使用Github作为图床]]></title>
    <url>%2F2018%2F09%2F07%2FHEXO-%E4%BD%BF%E7%94%A8Github%E4%BD%9C%E4%B8%BA%E5%9B%BE%E5%BA%8A%2F</url>
    <content type="text"><![CDATA[想把hexo的文章同步到博客园,但是文章的图片使用本地链接,在博客园就不能使用了,使用图床时发现.国内的图床都需要身份验证,不是很喜欢这样,所以暂时就使用github的page直接作为图床吧.直接把图片链接改为https://yourname.github.io/images/xxx.png然后图片放在source下的images文件夹内(便于管理)就这样.这样做缺点很多,完全没有专业的图床好.需要科学上网才能访问,而且没有push前本地调试也是看不见图片的空间也很少等到有时间了,给hexo装个压缩插件,应该能够+1s.]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Android Studio安装踩坑]]></title>
    <url>%2F2018%2F09%2F07%2FAndroid-Studio%E5%AE%89%E8%A3%85%E8%B8%A9%E5%9D%91%2F</url>
    <content type="text"><![CDATA[耗费将近两个小时把AS安装完毕并且运行成功了第一个HelloWorld.遇到了一些问题.此处做一个笔记. 机器环境 操作系统:win10 电脑开启全局代理 安装包为x64:android-studio-ide-173.4907809-windows 安装教程直接参看这篇博客:https://www.cnblogs.com/xiadewang/p/7820377.html 安装注意事项确保能够科学上网,可以自己折腾免费的方法,也可以去购买服务,最靠谱的是自己搭建.我也是在学习过程中才发现不会科学上网是很麻烦的事情. 遇到的问题完整删除AS首次安装时由于某些玄学问题,我的安装失败了,需要重装.使用目录自带卸载工具,或者使用IObit Uninstaller(推荐)卸载.然后删除用户目录下含有androidstudio的文件夹,通常是.开头的隐藏文件,这个文件夹是AS的用户配置信息,在你需要重置设置时也可说通过删除它来达到. Gradle下载慢虽然已经科学上网但是我的Gradle下载速度依然奇慢无比,低于10k的速度,直接在官网下载包在多线程的支持下能够达到1m 首先,AS新建一个项目,AS会开始下载Gradle,等一会,打开如下目录C:\Users\xxx\.gradle\wrapper\dists\gradle-4.4-all\xxxxxxxxxxxxxxx这里的xxxxxxxxxxxx是AS创建Gradle下载目录的时候自动创建的.打开文件夹后强制关闭AS,删除这个目录下的所有文件(如果有).你可以看到这个目录的上一级已经标明了你需要的Gradle版本,我的是gradle-4.4-all,这时到Gradle下载地址下载对应压缩包将压缩包直接放到xxxxxxxxxxxx重新启动AS,创建项目,成功了. ADV模拟器运行报错我的报错信息为12318:21 Emulator: emulator: ERROR: x86 emulation currently requires hardware acceleration!18:21 Emulator: Process finished with exit code 1 可以作为参考 google后原因似乎为Intel HAXM没有开启,实际上Android SDK 已经集成了这个软件，目录结构类似C:\Users\xxx\AppData\Local\Android\Sdk\extras\intel\Hardware_Accelerated_Execution_Manager点击目录下的.exe可执行程序安装,如果安装报错需要在Bios里把 Virtualization-Inter(R) Virtualization Technology设成Enabled,具体方法google之.(我的机器没有这个选项,也没有报错很奇怪)Bios设置好后就可以继续安装了安装完成,再次运行模拟器,成功了]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>androidStudio</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Win磁盘MBR转换为GUID]]></title>
    <url>%2F2018%2F09%2F02%2FWin%E7%A3%81%E7%9B%98MBR%E8%BD%AC%E6%8D%A2%E4%B8%BAGUID%2F</url>
    <content type="text"><![CDATA[为了玄学加快pc启动速度我想把bios从传统启动改为efi,同时系统盘变为gtp,本文记录了如何在保留系统文件的同时无损转换gtp,防止以后又查资料搞机有风险,请务必做好备份,,推荐使用dism++的备份,请看我上一篇win 备份 重装的介绍 工具微PE,U盘,PC 操作步骤将U盘作为微PE启动盘方法已经在前一篇介绍,请看win 备份 重装的方式二. 修改启动方式为uefi本操作有风险,请确定你的主板支持UEFI启动,近几年的pc都支持进入PC的BIOS管理界面-boot,如果你没有更改过就会看到一个’legacy’的值,选中它回车,修改为uefi,如果直接就是uefi那个恭喜你你遇到良心电脑商家了,接下来你不用看了.修改后保存(f12?) MBR转换为GUID如果在bios 直接使用命令convert GTP似乎有丢失文件的风险,我就是用的pe内置工具来转换的使用BIOS修改PE U盘最先启动(不同电脑不同,方法自行百度),我的电脑支持f12快速选择启动盘.进入PE系统-敖梅分区助手-磁盘-MBR/GTP互转-执行操作.完成 添加efi msr分区我的磁盘转换后是没有efi分区的,所以要手动添加,msr分区的大小也不合适所以我删除了,重新分的msr分区 删除分区如果有必要,使用分区助手删除不要的分区,因为要保留系统所以系统主分区不能删掉. 添加efi msr我在分区助手里没找到创建msr的方法,所以使用命令行在pe系统内打开命令行(win+r,然后输出cmd回车)输入diskpart回车容纳后输入list disk回车,列出所有的硬盘;使用select disk xx是卷标,选择磁盘,这里我们选择系统盘(一般卷标为0),回车;然后输入这两个命令create partition efi size =200回车,创建efi分区(200的单位为mb,通常200够用大点也没关系)create partition msr size =200回车,创建msr分区(200的单位为mb,通常200够用大点也没关系)也许你只需要创建efi,msr已经有了(如果你没删除的话),这个自己选择这时进入分区助手查看,我们的系统盘应该有三个分区(至少三个,多了也没关系看你自己),一个主分区ntfs类型,一个msr分区fat32(或者fat16),一个efi分区ntfs类型 引导修复由于修改了引导分区,我们需要引导修复,使用PE内置的引导修复工具,我的桌面上没有就在所有程序里找到了.根具提示选择参数(通常只需要选择引导盘位置) 后续如果你修改了启动盘顺序,你需要修改回来,不然还是U盘启动也许格式化磁盘后修改然后再用wim恢复系统修复引导会更好,但是这样太久了,目前电脑还要使用,不想尝试.你可以参考知乎的回答不靠谱装Windows10指南:https://zhuanlan.zhihu.com/p/33366029 实际修改后开始速度并没有可感知的提升 RECOMMEND跳过谷歌开机验证的方法RD Client 简明教程Hexo建站小记系统后门]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>折腾</tag>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WIN 备份 重装]]></title>
    <url>%2F2018%2F09%2F01%2FWIN-%E5%A4%87%E4%BB%BD-%E9%87%8D%E8%A3%85%2F</url>
    <content type="text"><![CDATA[虽然重装系统早就会了,但是一直都是不系统的照着教程的安装.由于不会备份系统,每次重装系统后都需要配置一整天的软件环境.这次借着学习系统备份的机会,把win的的备份还原学习了一下,本篇就是一些操作时的笔记.测试用系统WIN10,WIN7以上的系统应该也能够使用 系统重装方式一:直接从win10系统内打开ISO文件安装(超级傻瓜)适用范围完好的系统,想体验一下这台电脑刚安装上当前系统的感觉的感觉 操作步骤 准备的文件 win10原版iso文件,如果微软官方下载太慢,推荐I tell you下载 通常都是使用最新版的 x64 ,你以前是什么版本就下载什么版本,似乎版本不同是无法安装的(企业,专业,家庭,教育). 由于win10自带虚拟光驱,只需要对着这个”xx.iso”双击就装载了 在资源管理器中打开光驱,双击setup.exe 你可以选择保留文件还是不保留,不保留会重置系统盘(通常是c).既然是重装,当然是不保留啦. 后续具体的操作都可以通过字面理解,傻瓜操作嘛,由于我没怎么用过这种方式重装不太记得细节. 方式二:使用U盘作为启动盘装机非pe的官方方式 同方式一准备好iso文件, 格式化U盘,格式为fat32(兼容强,但有单文件4G文件限制) 直接双击装载(win10)然后复制内部所有文件到U盘,或者解压到U盘 如果复制失败(部分版本win10解压有单文件超过4g),使用软碟通 解压软碟通，完成安装后打开软碟通，文件-&gt;打开，打开我们的iso镜像 然后选择我们的U盘 然后点击启动-&gt;写入硬盘映像 写入方式选择hdd或hdd+(前提是你的主板支持这种格式)，选择了写入方式之后要先格式化，格式化完毕之后点击写入等待写入完毕即可 如果你的系统能够使用就可以使用win10的”高级启动”来完成安装 点开设置——更新与安全——恢复——立即重新启动 进入高级重启界面以后，选择使用设备，然后找到U盘（可能叫Removable Device之类的名字 等待安装程序启动 如果系统不是win10或者”高级重启”失败,使用Boot menu方式 百度找到自己型号的电脑/主板进入Boot menu的方式,同时百度如何在Boot menu中将U盘设置为启动盘并照做. 在Boot menu中可以设置EFI启动,同样的百度,这样会更快的启动系统. 设置好U盘为启动盘后就可以重启进入安装程序.1.输入/跳过密钥,选择自定义(你也可以选择升级),既然要重装当然是自定义,通过驱动器大小来区分哪个是系统盘,这里需要注意,如果无法区分,百度吧,有多种方式可以区分但都比较麻烦. 安装成功后自己分区,然后同上修改BIOS把系统盘设置为启动盘(直接把U盘的顺序调为最低就好了). enjoy 方式三:PE方式以前一直没有使用pe方式,这是第一次使用pe 准备好PE工具,推荐微PE,以及iso系统文件(同上) 打开微pe-其他安装方式-安装到U盘 安装方法推荐”UEFL/Legacy”分区几个区就自己选择了我使用了”固态+机械”的硬盘结构所以系统盘就一个分区. 选择带写入U盘 格式化为exFAT(只要不是fat32就好),如果没有exFAT你可以用win的资源管理器格式化为exFAT,就可以在微pe中看到exFAT了,其他默认. 点击安装U盘,完成后U盘分为两个盘(分区),一个WinPE系统里面有系统文件,一个空的exFAT分区. 将iso文件拷贝入空的分区 同方式二,将U盘设置为启动盘 重启进入winpe系统直接进入资源管理器,找到iso文件,双击setup ,开始安装,同方案二.系统备份还原我所熟知的备份方式最开始是直接备份文件系统的原始方式,这种方式已经不适用现在了,很多数据并没有在win中以文件的形式存在,而且随着现在使用的各种软件依赖关系严重,很容易出错,已经没有办法使用这种方式了,创建还原点也不不是那么的好用,现在直接使用wim的方式备份 备份 非常简单使用dism++的,工具-备份选择好备份的位置后就可以开始备份了. 备份完成 还原当前系统还原直接打开dism++使用它的,工具箱-系统还原 直接安装备份的WIM同重装系统一样,进入WinPE系统,在这之前要将Dism++备份的WIM文件放入U盘中,然后打开WinPE中的dism++,工具箱-系统还原,或者使用桌面的Windows安装器,使用安装器时,”引导驱动器”和”安装磁盘的位置”都选择一样. RECOMMEND跳过谷歌开机验证的方法RD Client 简明教程Hexo建站小记系统后门]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>折腾</tag>
        <tag>windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LOFTER 迁移]]></title>
    <url>%2F2018%2F09%2F01%2FLOFTER-%E8%BF%81%E7%A7%BB%2F</url>
    <content type="text"><![CDATA[一直在LOFTER上写生活日记,,写出来也不是为了让人看,总觉得写在本子上只有我自己知道没有倒苦水的感觉,即使没有人看把它丢在互联网上就有一种舒适的感觉.现在不太想用LOFTER了,但是写日记这个需求还在.虽然还没想好,不过我准备接下来在一个支持MD格式的博客平台继续写日记.本文记录了如何将历史内容导出并转换为MD格式存档. 从LOFTER导出历史(网页端)从head栏的’更多’内选择’导入导出’,然后选择自己需要导出的账户.导出为xml文件.&lt;&gt;&lt;&gt;&lt;&gt;LOFTER支持导出为XML格式,如果使用主流的博客网站通常都支持XML文件导入,就像LOFTER这样.&lt;&gt;&lt;&gt;&lt;&gt;所以如果不需要MD格式的文件,在这里就可以了. Win系统下转换MD格式 安装Node.js(请自行查找教程不在详解) 安装插件我们需要用到的工具 “xml2js” 在cmd中使用命令npm install xml2js -g安装 “to-markdown” 在cmd中使用命令npm install to-markdown -g安装 “lofter2hexo” 在cmd中使用命令npm install lofter2hexo -g安装1.将lofter导出文件修改为”LOFTER.xml”,在此文件目录下打开Power Shell 执行命令 readxml1.完成 这个工具有许多问题,如果有时间我会试着修改一下作者的代码,当然修改的也只能自己用着玩,没什么实际价值 参考 lofter2hexo作者项目主页]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Git 学习笔记]]></title>
    <url>%2F2018%2F07%2F18%2FGit-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[开始学习Git了,为了督促学习同时保证后续学习资料我使用随笔记录,因为考虑到后续学习,可能会稍微详细记录一些.笔记到本次修改为止没有参考官方文档,依据的是第三方教程和自己的理解应该会有些错误,欢迎指正,谢谢.如果有时间我将会为常见操作用例补上流程图.第一个标题给出常用git命令.待完善… 前置Git常用命令随着自己Git的使用而添加命令 在当前目录创建仓库:git init显示隐藏目录:ls -ah将所有文件添加到版本库:git add .将已经添加的文件提交到仓库:git commit -m &quot;本次提交的说明&quot;查看当前仓库状态:git status查看文件更改细节:git diff查看看提交日志:git log 可选参数:(控制显示条数)-n (简化显示内容)--pretty=oneline退出当前操作: q Git常见注意事项 没有消息就是最大的好消息(前提是你没有卡死),Git很多命令都没有返回消息(类似Linux) 版本控的制差异直接参看图片更加直观 集中式 使用中心服务器,所有终端用户只能,从服务器交换文件.例如SVN 分布式 每个电脑都是一个版本库,可以相互交换文件,通常为了方便依然需要一个主机充当服务器. 创建版本库Git文件的添加需要add和commit两步,commit可以一次提交很多文件,add可以多次添加不同的文件,相当于你慢慢的吧文件放到了车上,一次运走. 文件添加到仓库使用git add命令,例如git add readme.txt,执行后如果没有任何消息就表示这个文件已经被添加到了仓库. 这个文件一定要在仓库的目录下,子目录也可以 文件提交到仓库使用git commit -m &quot;本次提交说明&quot;,例如git commit -m &quot;这是我提交的基础文件&quot;产生如下返回消息1234$ git commit -m &quot;这是我提交的第一个文件&quot;[master (root-commit) f34a8b0] 这是我提交的第一个文件 1 file changed, 0 insertions(+), 0 deletions(-) create mode 100644 readme.txt 这里,file changed代表被改变的文件数;insertions代表插入内容的行数 查看修改修改一下readme.txt文件,输入git status命令123456789$ git statusOn branch master //在主分支Changes not staged for commit: //更改未提交 (use &quot;git add &lt;file&gt;...&quot; to update what will be committed) //使用git add 准备提交 (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory) 使用git checkout 放弃更改 modified: readme.txt //修改: readme.txtno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;) //没有将更改添加到提交 大致意思就是readme.txt被修改过了,但是还没有准备提交修改.可以看到,git status可以查询当前哪些文件被修改过了,但是无法查看具体修改了哪些内容.插看具体的修改内容使用git diff:123456789$ git diff readme.txt diff --git a/readme.txt b/readme.txt //a版本的readme文件(变动前),和b版本的readme文件(变动后)index 46d49bf..9247db6 100644 //两个版本的git哈希值(46d49bf,9247db6) 100644第三个是对象的模式(普通文件,664权限)--- a/readme.txt //&quot;---&quot;表示变动前的版本,&quot;+++&quot;表示变动后的版本+++ b/readme.txt//@@ -1,2 +1,2 @@-Git is a version control system. //每行最前方的标志位,空表示无变动,减号表示第一个文件删除的行,加好表示第二个文件新增行+Git is a distributed version control system. Git is free software. 查看后就可以使用git add添加到仓库(同添加新文件),然后运行git status查看当前仓库状态123456$ git statusOn branch masterChanges to be committed: //要提交的更改 (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage) modified: readme.txt //包括的文件 返回消息列出了将要被提交的文件提交123$ git commit -m &quot;add distributed&quot;[master e475afc] add distributed 1 file changed, 1 insertion(+), 1 deletion(-) //一个文件改变,添加一行,删除一行 继续使用git status查看仓库当前状态123$ git statusOn branch masternothing to commit, working tree clean //没有提交,很干净? (通常我不希望看到这种返回消息) 当前没有需要提交的修改,工作目录很干净 版本回退查看版本首先修改文件然后提交1234$ git add readme.txt$ git commit -m &quot;append GPL&quot;[master 1094adb] append GPL 1 file changed, 1 insertion(+), 1 deletion(-) 像这样，你不断对文件进行修改，然后不断提交修改到版本库里，就好比玩RPG游戏时，每通过一关就会自动把游戏状态存盘，如果某一关没过去，你还可以选择读取前一关的状态。有些时候，在打Boss之前，你会手动存盘，以便万一打Boss失败了，可以从最近的地方重新开始。Git也是一样，每当你觉得文件修改到一定程度的时候，就可以“保存一个快照”，这个快照在Git中被称为commit。一旦你把文件改乱了，或者误删了文件，还可以从最近的一个commit恢复，然后继续工作，而不是把几个月的工作成果全部丢失。继续,使用git log查看最近到最远的提交日志.可以用git log -n来控制显示条数123456789101112131415161718$ git logcommit 58e1bcb1947d683e0683ac1115900056c3f4cabd (HEAD -&gt; master)Author: e1se &lt;elsewhere997@163.com&gt;Date: Thu Jul 19 11:33:44 2018 +0800 修改了两行commit e0e571805168d270182a8ada5d712b838d07ce34Author: e1se &lt;elsewhere997@163.com&gt;Date: Wed Jul 18 22:54:21 2018 +0800 添加了一行commit f34a8b0d286590117d0d08e041c68a549ce4a1dbAuthor: e1se &lt;elsewhere997@163.com&gt;Date: Wed Jul 18 19:46:34 2018 +0800 这是我提交的第一个文件 从下往上,可以看到三次提交我们可以在git log后添加参数--pretty=oneline 只显示文件的版本号(哈希),和提交说明1234$ git log --pretty=oneline58e1bcb1947d683e0683ac1115900056c3f4cabd (HEAD -&gt; master) 修改了两行e0e571805168d270182a8ada5d712b838d07ce34 添加了一行f34a8b0d286590117d0d08e041c68a549ce4a1db 这是我提交的第一个文件 版本退回在Git中用HEAD表示当前版本也就是当前的提交,HEAD^代表上一个版本,HEAD^^代表上上个版本,为了简化表达使用类似HEAD~10的方式表示之前的版本数.使用git reset命令版本回退12$ git reset --hard HEAD^ //回退命令.HEAD is now at e0e5718 添加了一行 //当前版本变为提交描述为&quot;添加了一行&quot;的版本,也就是回退了一个版本 使用cat readme.txt查看文件12345$ cat readme.txtGit is a version control system.Git is free software.The line is a new line. 可以看到文件确实被还原了.继续使用git log查看当前版本看状态,可以看到”修改了两行”的那次提交的版本不见了.如果命令行没有被关掉,我们可以在之前的记录中找到”修改了两行”那次提交版本的版本号(哈希值),使用命令git reset --hard,可以看到这个命令和回退是一样的,只是参数的值不一样,这里参数值是版本号12$ git reset --hard 58e1 //版本号的哈希值不需要输入全部,只要前几位就好确保这个值是唯一的Git就能找到对应的完整值HEAD is now at 58e1bcb 修改了两行 //HEAD代表当前版本,这里当前版本变为 &quot;修改了两行&quot;的那一次提交 如果关闭了Git没有了版本号记录,又想要变成回退前的版本,我们使用git reflog来查看之前的每一命令123456$ git reflog58e1bcb (HEAD -&gt; master) HEAD@&#123;0&#125;: reset: moving to 58e1 //结构分为三个部分:版本号,HEAD值,操作描述e0e5718 HEAD@&#123;1&#125;: reset: moving to HEAD^58e1bcb (HEAD -&gt; master) HEAD@&#123;2&#125;: commit: 修改了两行e0e5718 HEAD@&#123;3&#125;: commit: 添加了一行f34a8b0 HEAD@&#123;4&#125;: commit (initial): 这是我提交的第一个文件 假设我们现在是第二行(e0e5)的状态(回退了一个版本),我们可以在第三行(58e1)看到回退前的版本号版本号是唯一标示,表示着每一次操作时的版本.HEAD用来表示这个版本号是不是当前版本,HEAD后缀越大代表这个版本越老,上面的HEAD@{3}同HEAD~3的意思一样代表当前版本之前三个版本.操作描述记录了本次操作的类型,以及操作时编写的描述信息(例如提交描述)同样我们可以用git reflog -n来控制显示条数 工作区和暂存区工作区是我们建立的版本仓库中直接能看到的目录,工作区的隐藏目录.git就是Git的版本库我们的工作区修改存放在暂存区,add后更新同步暂存区(此时用Git diff命令会看到没有返回消息),同时工作区修改或者新增的文件内容被写入到对象库中一个新的对象中,而该对象的ID被记录在在暂存区的文件索引中(跟新暂存区索引指向新创建的对像).当执行git commit操作时,暂存区的目录树全部写到版本库(对象树中),master (这里我们只有master主分支)分支会做相应的更新。即 master 指向的目录树就是提交时暂存区的目录树。当执行 “git reset HEAD” 命令时，暂存区的目录树会被重写，被 master 分支指向的目录树所替换，但是工作区不受影响。这里我依然不是很明白,这个博客用版本仓库第一次add为例子降解了暂存区,参看此博客可能会更清晰一些 Git暂存区原理到目前为止暂存区的概念我依然不是特别清晰. 撤销修改修改后还没有add时命令git checkout --file撤销工作区的修改当file修改后暂存区没有file的索引,回到和版本库一样的状态当file add后(没有commit暂存区有索引),又对file做了修改,这时file会回到添加到暂存区后的状态.总之就是让这个文件回到最近一次commit或者git add的状态,没有add,哪个状态新就回到哪个状态. 修改后且add后使用git rest HEAD file把暂存区的修改撤销,现在修改就只存在于工作区了,暂存区是感觉的. 修改后不仅add还commit了直接使用版本回退git reset --hard HEAD^让你的版本库变为上个版本. 删除文件rm file这个命令等同于在资源管理器中删除删除后使用git status查看删除的文件 接下来使用git rm,并且git commit从版本库删除掉该文件(小提示：先手动删除文件，然后使用git rm 和git add效果是一样的。)在使用git rm之前如果发现错删了,因为暂存区里还有,可以使用git checkout -file恢复文件.总结,删除有两种方式：1、工作区内”rm 文件名”，然后”git rm 文件名”，然后”git commit -m ‘备注’”2、直接使用”git rm 文件名”，然后”git commit -m ‘备注’”实验结果：(摘抄自网友评论,我的实验结果和这个一致)1、工作区内”rm 文件名” 只是删除工作区内容，暂存区内容还是在的，在”git rm 文件名”操作之前可通过”git checkout –文件名”从暂存区进行恢复。2、”git rm 文件名”是既删除工作区内容也删除暂存区内容的，所以在”git commit -m ‘备注’”操作之前可以通过”git checkout HEAD – 文件名”从版本库进行恢复，提交后就是只能git reset HEAD^恢复到上一个版本库然后使用git checkout -- file从版本库恢复到工作区 远程仓库备注由于每个人机器的环境不一致,你可能会遇到某些问题,你需要使用搜索引擎浏览一些github入门使用帖子,初级阶段出现问题百度后基本都能解决.这里以windows操作系统并用github作为远程仓库为例子(不包含详细步骤只给出关键操作). 添加远程仓库创建远程仓库以github为例子,创建好密钥并把公钥添加到github上,详情百度.免费使用的github只允许创建公共仓库,即任何人都可以查看克隆.在github上创建一个远程仓库,GitTest不要勾选creat readme创建一个空仓库不要初始化,不然会报错 本地控制远程主机使用命令$ git remote add origin git@github.com:e1sewhere/GitTest.git其中origin是操作远程仓库主机的名字你可以随意修改,如果忘记了可以使用git remote查看远程仓库的名称,或者使用git remote -v显示详细信息123$ git remote -vorigin git@github.com:michaelliao/learngit.git (fetch)origin git@github.com:michaelliao/learngit.git (push) 冒号后的内容是远程仓库的ssh地址,你可以直接输入,也可以在github本仓库页面中找到复制下来git remote show &lt;主机名&gt;可以查看该主机的详细信息.git remote rm &lt;主机名&gt;删除远程主机git remote rename &lt;原主机名&gt; &lt;新主机名&gt;重命名远程主机 推送git push -u GitTest master master是你要推送的分支,这里是muster分支由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令为git push GitTest master 远程仓库克隆同新建仓库一样,远程克隆也是一种创建仓库的方式.首先使用GitHub打开一个仓库的位置,你也可以自己创建一个仓库用于实验,这里我使用了以前学习HTML时写的hello world页面.我们使用git clone命令将这个仓库克隆,将Github项目页面内Clone or download下的SSH地址作为clone的地址然后在你需要创建仓库的根目录(不是仓库里)打开git终端.输入git clone git@github.com:E1sewhere/EdenPage.git等待数据传输完毕.12345$ git clone git@github.com:E1sewhere/EdenPage.git //github支持ssh和http两种协议,你可以随意选择,这里使用ssh,想了解两者的区别请自行搜索.Cloning into &apos;EdenPage&apos;...remote: Counting objects: 13, done.remote: Total 13 (delta 0), reused 0 (delta 0), pack-reused 13Receiving objects: 100% (13/13), 5.52 MiB | 197.00 KiB/s, done. 克隆版本库的时候,使用的远程主机被自动命名为origin.如果想使用其他的主机名称,需要使用git clone命令的-o选项指定.例如我将远程主机命名为JQuery123$ git clone -o jQuery https://github.com/jquery/jquery.git$ git remotejQuery 上面的命令表示,克隆时,指定远程主机名称为jQuery可以看到Eden这个仓库已经被创建了,里面有.git和readme在内的一些文件. 分支创建分支首先你需要自行了解版本控制系统中分支的意义我们创建一个名为dev的分支,使用命令git branch dev然后切换到dev分支,使用命令git checkout dev一上两个命令可以合并为git checkout -b dev实现创建并切换分支的目的.使用git branch会查看所有分支,其中带有星号的分支代表当前分支.123$ git branch* dev master 现在我们已经切换到了 dev分支,在工作空间对readme文件修改并提交(提交前记得add)然后我们切换回master分支123$ git checkout masterSwitched to branch &apos;master&apos;Your branch is up to date with &apos;GitTest/master&apos;. 切换完成后查看修改的文件发现刚才提交的内容不见了,在master分支上这个修改并没有被提交!所有的修改都在刚才创建的dev分支上接下来我们把dev合并到master分支上,使用命令git merge dev`,意思是合并指定分支到当前分支上. 12345$ git merge devUpdating e269a49..dde8c6fFast-forward //快速合并模式,还有其他合并模式后面单独补充 readme.txt | 9 ++++++--- 1 file changed, 6 insertions(+), 3 deletions(-) 如果dev分支当前的工作已经完成,并且已经成功合并,我们就可以删除这个分支了,使用命令git branch -d dev 12$ git branch -d devDeleted branch dev (was dde8c6f). 分支合并冲突 我们创建一个新的分支feature1并切换,然后在readme.txt添加新的一行Creating a new branch is quick AND simple 在这个分支上提交. 然后切换到master分支 1234 $ git checkout masterSwitched to branch &apos;master&apos;Your branch is ahead of &apos;origin/master&apos; by 1 commit. //Git还会自动提示我们当前master分支比远程的master分支要超前1个提交 (use &quot;git push&quot; to publish your local commits) 在master分支上添加一行Creating a new branch is quick &amp; simple在master上提交 1234$ git add readme.txt $ git commit -m &quot;&amp; simple&quot;[master 5dc6824] &amp; simple 1 file changed, 1 insertion(+), 1 deletion(-) 我们对同一个文件的同一行做了修改,这种情况下，Git无法执行“快速合并”，只能试图把各自的修改合并起来，但这种合并就可能会有冲突，我们试试看： 1234$ git merge feature1Auto-merging readme.txtCONFLICT (content): Merge conflict in readme.txtAutomatic merge failed; fix conflicts and then commit the result Git告诉我们，readme.txt文件存在冲突，必须手动解决冲突后再提交。git status也可以告诉我们冲突的文件： 123456789101112131415$ git statusOn branch masterYour branch is ahead of &apos;origin/master&apos; by 2 commits. (use &quot;git push&quot; to publish your local commits)You have unmerged paths. (fix conflicts and run &quot;git commit&quot;) (use &quot;git merge --abort&quot; to abort the merge)Unmerged paths: (use &quot;git add &lt;file&gt;...&quot; to mark resolution) both modified: readme.txtno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;) 看不懂?,翻译一下就好了,我们直接查看readme.txt,它的最下面有这样几行 12345&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEADCreating a new branch is quick &amp; simple.=======Creating a new branch is quick AND simple.&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature1 Git用&lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容，我们修改如下后保存： 1Creating a new branch is quick and simple 再提交： 123$ git add readme.txt $ git commit -m &quot;conflict fixed&quot;[master cf810e4] conflict fixed 成功了,feature1分支和master分支的上次提交保持原样,本次提交后两个master分支变为刚才修改冲突后的内容了使用git log查看分支合并的情况 1234567891011121314$ git log --graph --pretty=oneline --abbrev-commit* cf810e4 (HEAD -&gt; master) conflict fixed|\ | * 14096d0 (feature1) AND simple* | 5dc6824 &amp; simple|/ * b17d20e branch test* d46f35e (origin/master) remove test.txt* b84166e add test.txt* 519219b git tracks changes* e43a48b understand how stage works* 1094adb append GPL* e475afc add distributed* eaadf4e wrote a readme file 分支合并方式分为快速合并(fast forward)和非快速合并(no-off)fast forward模式下,合并时仅移动指针,这种模式下删除分支后会丢掉分支信息(Git会在条件达成的情况下优先使用快速模式),两条分支看起来就是线性的,他们共用一条直线--no-off模式下Git会在merge时生成一个新的commit,形成一个新的节点,这样看起来两个分支在创建时分叉,合并时汇合. 现场存储与恢复如果你现在手上的工作没有做完又需要新建一个新的分支去开发或者修复bug这时为了不遗失工作进度且不影响新的分支内容,我们就要把当前分支的工作存储并隐藏起来(否则你暂存区的文件会被带到新的分支去),等以后回到这个分支工作时再恢复你存储的内容.使用命令git stash存储并隐藏当前工作 12$ git stashSaved working directory and index state WIP on dev: f52c633 add merge 这时使用git status查看工作区是干净的.假设我们要在master上修复bug,那么就在master上创建一个临时分支 1234567$ git checkout master //切换到master分支Switched to branch &apos;master&apos;Your branch is ahead of &apos;origin/master&apos; by 6 commits. (use &quot;git push&quot; to publish your local commits)$ git checkout -b issue-101 //创建并切换到issue-101bug修复分支Switched to a new branch &apos;issue-101&apos; 修复/开发完成后就可以去合并分支了.这是我们回到刚才工作中的dev分支,用git status查看工作区,提示工作区是干净的.为了恢复刚才的工作,首先使用git stash list查看保存的工作现场列表,列表就意味着你可以做多个stash保存. 12$ git stash liststash@&#123;0&#125;: WIP on dev: f52c633 add merge 恢复时有两种方式git stash apply,这种方式恢复后stash的内容不删除,需要时使用git stash drop手动删除git stash pop恢复的同时删除stash内容当stash列表内又多个时,使用git stash apply stash@[0]来恢复指定的stash. 抓取分支使用Git克隆远程仓库时,默认情况下,只能看到master分支.如果你想克隆dev分支并在上面开发,就必须创建远程仓库的dev分支到本地,我们使用这个命令git checkout -b dev origin/dev,origin是远程仓库的名称dev是你要克隆的远程仓库的分支名称.当别人已经向origin/dev分支推送了他的提交，而碰巧你也对同样的文件作了修改，并试图推送： 123456789101112131415161718$ cat env.txtenv$ git add env.txt$ git commit -m &quot;add new env&quot;[dev 7bd91f1] add new env 1 file changed, 1 insertion(+) create mode 100644 env.txt$ git push origin devTo github.com:michaelliao/learngit.git ! [rejected] dev -&gt; dev (non-fast-forward)error: failed to push some refs to &apos;git@github.com:michaelliao/learngit.git&apos;hint: Updates were rejected because the tip of your current branch is behindhint: its remote counterpart. Integrate the remote changes (e.g.hint: &apos;git pull ...&apos;) before pushing again.hint: See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details. 推送失败，因为你的小伙伴的最新提交和你试图推送的提交有冲突，解决办法也很简单，Git已经提示我们，先用git pull把最新的提交从origin/dev抓下来，然后，在本地合并，解决冲突，再推送： 12345678910$ git pullThere is no tracking information for the current branch.Please specify which branch you want to merge with.See git-pull(1) for details. git pull &lt;remote&gt; &lt;branch&gt;If you wish to set tracking information for this branch you can do so with: git branch --set-upstream-to=origin/&lt;branch&gt; dev git pull也失败了，原因是没有指定本地dev分支与远程origin/dev分支的链接，根据提示，设置dev和origin/dev的链接： 12$ git branch --set-upstream-to=origin/dev devBranch &apos;dev&apos; set up to track remote branch &apos;dev&apos; from &apos;origin&apos;. 再pull： 1234$ git pullAuto-merging env.txtCONFLICT (add/add): Merge conflict in env.txtAutomatic merge failed; fix conflicts and then commit the result. 这回git pull成功，但是合并有冲突，需要手动解决，解决的方法和分支管理中的解决冲突完全一样。解决后，提交，再push： 1234567891011$ git commit -m &quot;fix env conflict&quot;[dev 57c53ab] fix env conflict$ git push origin devCounting objects: 6, done.Delta compression using up to 4 threads.Compressing objects: 100% (4/4), done.Writing objects: 100% (6/6), 621 bytes | 621.00 KiB/s, done.Total 6 (delta 0), reused 0 (delta 0)To github.com:michaelliao/learngit.git 7a5e5dd..57c53ab dev -&gt; dev 标签管理创建标签切换到需要创建标签的分支上,使用命令git tag &lt;name&gt; 1$ git tag v1.0 使用命令git tag查看单签分支的所有标签标签默认是打在最新提交的commit 上的,有过你要给之前的提交打标签,需要知道提交的commit 12345678910111213141516$ git log --pretty=oneline --abbrev-commit //列出所有id12a631b (HEAD -&gt; master, tag: v1.0, origin/master) merged bug fix 1014c805e2 fix bug 101e1e9c68 merge with no-fff52c633 add mergecf810e4 conflict fixed5dc6824 &amp; simple14096d0 AND simpleb17d20e branch testd46f35e remove test.txtb84166e add test.txt519219b git tracks changese43a48b understand how stage works1094adb append GPLe475afc add distributedeaadf4e wrote a readme file 例如我们要对提交描述为add merge的这次提交打上标签,直接使用命令git tag &lt;name&gt; &lt;commit id&gt; 1$ git tag v0.9 f52c633 再用命令git tag查看标签： 123$ git tagv0.9v1.0 使用git tag命令,标签不是按时间顺序列出，而是按字母排序的。可以用git show 查看某个标签详细信息 12345678$ git show v0.9commit f52c63349bc3c1593499807e5c8e972b82c8f286 (tag: v0.9)Author: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Fri May 18 21:56:54 2018 +0800 add mergediff --git a/readme.txt b/readme.txt 使用参数可以创建带有说明的标签,使用命令git tag -a &lt;name&gt; -m &quot;描述&quot;,-a指定标签名称,-m指定说明文字 1$ git tag -a v0.1 -m &quot;version 0.1 released&quot; 1094adb 用命令git show 显示的信息里就包含说明文字： 1234567891011121314$ git show v0.1tag v0.1Tagger: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Fri May 18 22:48:43 2018 +0800version 0.1 released //说明文字commit 1094adb7b9b3807259d8cb349e7df1d4d6477073 (tag: v0.1)Author: Michael Liao &lt;askxuefeng@gmail.com&gt;Date: Fri May 18 21:06:15 2018 +0800 append GPLdiff --git a/readme.txt b/readme.txt 删除标签使用命令git tag -d &lt;name&gt;删除本地标签 12$ git tag -d v0.1Deleted tag &apos;v0.1&apos; (was f15b0dd) 如果标签已经推送到远程，要删除远程标签就麻烦一点，先从本地删除： 12$ git tag -d v0.9Deleted tag &apos;v0.9&apos; (was f52c633) 然后，从远程删除,删除也是使用远程的推送的push格式如下 123$ git push origin :refs/tags/v0.9To github.com:michaelliao/learngit.git - [deleted] v0.9 推送标签如果要推送某个标签到远程，使用命令git push origin ： 1234$ git push origin v1.0Total 0 (delta 0), reused 0 (delta 0)To github.com:michaelliao/learngit.git * [new tag] v1.0 -&gt; v1.0 使用命令$ git push &lt;服务器名称&gt; --tags推送全部本地标签 1234$ git push origin --tagsTotal 0 (delta 0), reused 0 (delta 0)To github.com:michaelliao/learngit.git * [new tag] v0.9 -&gt; v0.9 Github基本介绍fork:在自己的账号下克隆一个bootstrap仓库,相当于自己的远程仓库有了这个仓库.如果要参与一个开源项目,需要先fork这个项目然后,从自己的远程仓库克隆到本地仓库(不能直接从开源项目仓库克隆这会没有权限推送),当你对开源项目的文件修改后就可以在Github上向开源项目所有者发起一个pull request .对方决定是否接受. 依然保留的疑问暂存区是否相当于一个临时版本库,存储了还没有commit的修改,我们提交到版本库的修改都是从暂存区提交的?我们工作区的修改的内容add后是存储在git对象库中的,暂存区(索引)只是指向对象,并不实际存储文件? 封装Git命令在win下直接用bat批处理封装几个命令.给一个提交hexo源码的的例子创建一个.bat文件,复制如下代码 1234567891011121314151617:inputtitle hexo源码自动提交set /p des=输入提交描述ENTER结束:echo "begin it ..."E:cd E:\AElseworld\Code\Github\myfirst_hexogit add .git commit -m "%des%"echo 正在提交:%des%git push origin masterecho "finshished!"pause&gt;nulcls &amp; goto input 使用这个脚本只需要修改下你的目录就好了,这两行: 12E:cd E:\AElseworld\Code\Github\myfirst_hexo 同时确保当前分支在 master分支. 以后提交就只需要双击bat,输入提交描述就好了. 参考 Git diff–和++具体解释Git工作区,暂存区,和版本库-xunyeGit常用命令廖雪峰Git教程 //我是参考这个做的笔记,但不建议看这个,有不少错误. 除了上面的参考我还推荐阅读: Git使用手册/Git教程 RECOMMEND解决国内github访问慢的问题]]></content>
      <categories>
        <category>笔记</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mi6 刷入记录]]></title>
    <url>%2F2018%2F05%2F31%2FMi6-%E5%88%B7%E5%85%A5%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[5月RR终于把sagit设备加入了支持列表，虽然还不完善但还是迫不及待的准备作为小白鼠体验一下，由于构建方式不同刷入后可能无法恢复data只能完全重新设置，期待钛备份可以恢复主要数据。此后Mi6 的rom刷入记录都在这里。 刷入记录尝试使用unoffical的data数据恢复。。。10min后成功进入开机动画！成功进入锁屏界面！成功进入桌面！我擦！成功了？？？使用后发现指纹失效，删除data数据后恢复，老老实实用钛备份恢复又手动设置各种软件。达成成就–&gt;[午夜战士] 20180623 : 更新至RR-O-v6.1.0-20180618-sagit-Weekly DATA备份/框架:t/t综合评分- 20180712:更新至RR-O-v6.1.0-20180709-sagit-Official DATA备份/框架:t/t综合分数++ 20180724：更新至RR-O-v6.1.0-201807022-sagit-Official DATA备份/框架:t/t综合评分+ 以下是aex,严重卡顿的不做记录 版本:sbw aex 20181028 / 内核vantom-chimera问题:相机时常崩溃导致机器重启评价:流畅,息屏续航极好,亮屏续航好. 版本:sbw aex 20181102 / 内核vantom-chimera问题:相机问题修复评价:流程,息屏续航爆炸尿崩,亮屏续航正常. 备份手机钛备份备份用户app以及系统数据，同步到pc端 rec data备份BackupData (excl. storage)，同步到pc端 magisk模块 google product sanssysconfig patcher xposed模块 nekosms edge pro 应用控制器 指纹支付 ` 刷机包准备 TWRP 底包 rom.zip Magisk open_gapps coffaceToolV1.2.1rec刷入程序.exe 内核 xp data备份 刷入清除数据完全清除所有数据4清（Dalvik、 cache、format system 、 data）+格式化data 刷入 手机进入fla模式（开机时下+电源）启动twrp刷入程序，手机连接pc选择twrp文件确定刷入进入twrp模式，初始设置twrp语言传入所有刷机文件刷入底包刷入rom刷入gapps重启系统进入twrp刷入magisk重启系统进入twrp刷入xposedEnjoy ！ 注意事项 开机后顺时针点击屏幕四个角跳过谷歌验证实际发现8.1的gapps开机验证可以直接下一步xn跳过。 开机跳过google参考 twrp重启时点击不，以后再说否则可能会出现twrp后续无法使用 RECOMMEND小米6 刷机可能会涉及的到的资源AEX ROM 修改开机动画教你制作定制版安卓系统（Android ROM）]]></content>
      <categories>
        <category>记录</category>
      </categories>
      <tags>
        <tag>刷机</tag>
        <tag>rom</tag>
        <tag>更新记录</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[u盘尝试低格修复失败]]></title>
    <url>%2F2018%2F03%2F20%2Fu%E7%9B%98%E5%B0%9D%E8%AF%95%E4%BD%8E%E6%A0%BC%E4%BF%AE%E5%A4%8D%E5%A4%B1%E8%B4%A5%2F</url>
    <content type="text"><![CDATA[第一次尝试修复u盘 虽然以失败告终，但是好歹了解了一些u盘相关的知识，不算浪费时间。 我自我安慰道。 价值99RMB的 64g U盘 使用了不到一个月就坏掉了，插入后设备可以识别但是打开会提示 请插入磁盘U盘到手的时候实际上就预感到了它寿命不久。搜寻原因后大概是硬件或者上次分区造成的问题，硬件问题没办法 ，软件问题还是得尝试修复一下。[银灿] 这个似乎很容易出问题，所以我也期望着我的是固件问题。 半小时的软件以及教程学习后，开始修复。操作非常的傻瓜，识别设备后下载对应低格工具就可以了，尝试更改了十余种配置都是相同的错误代码，网上大致搜索了一下没有解决的办法。不想深入探究了，毕竟不是专业所长，而且U盘极其坚固没法拆开检查。 遂放弃。 拿着刀子开始 胡（ren）乱（dao）修（hui）理（mie），居然没办法取出芯片。失落。 RECOMMEND跳过谷歌开机验证的方法Hexo建站小记Windows To Go系统安装记录]]></content>
      <categories>
        <category>记录</category>
      </categories>
      <tags>
        <tag>折腾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HEXO next live2d插件删除问题]]></title>
    <url>%2F2018%2F03%2F06%2Fnext-live2d%E6%8F%92%E4%BB%B6%E5%88%A0%E9%99%A4%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[按照 建站小记中live2d插件的部分已经可以成功关闭了.之前的问题猜测是网络原因——下面的内容已经过时—–前几天准备使用live2d插件，一直照着官方文档没有成功，今天发现其实是已经成功了，似乎是pc的问题导致了动态资源无法加载，虽然当时换了几个不同内核的浏览器测试，但是没有想到是pc的问题。 pc问题解决后就想关闭live2d插件了，因为插件内包含的都是些可爱少女和萌物，不是很喜欢这种风格的，自己又不会制作。将配置文件的相关信息删除后，部署本地页面依然加载着live2d部件，以为是本地缓存问题，删除后依然存在，又hexo d到托管库，使用别的电脑依然有加载。现在靠常识来关闭已经不可能了，查看live2d的wikl&amp;issue界面并没有相关信息，google几个关键字后也没有相关问题。 只能不断尝试修改配置文件，很久后还是没办法。 最后只能死马当作活马医，在不知道原因的情况下表面上解决了问题。 实际上完全不知道问题在哪里，按照官方文档enble值设定为false就不会显示插件了，可是无论怎么改都不行，浪费了许多时间。这个文章用于记录问题。 如果你有更好的解决办法请留言告知，谢谢 下面给出解决步骤 （并不想尝试问题复现，所以这个步骤只能保证在本机上有用，且并不能证明所有步骤都与本问题有关） next版本:5.14 首先删除\themes\next\layout下_layout.swig文件内的与live2d有关的代码（你配置时添加的代码） 同理删除主题配置文件和hexo配置文件（如果也添加过live2d相关代码）。检查是否页面还存在live2d部件 将live2d的npm安装命令 npm install -save hexo-helper-live2d 稍作修改变为 npm uninstall hexo-helper-live2d -g在你的hexo博客根目录执行。 清除本地浏览器缓存，输入命令“hexo s”部署，浏览器查看地址localhost：你的端口live2d部件是否还存在。 如果还存在，接着 直接文件管理器搜索”live2d“关键字，将hexo博客内所有含有”live2d“有关的文件夹全部删除。 测试插件已经不再显示了 20180306 补充 描述：上面虽然暂时解决了问题，但是在我后来想给hexo添加新的插件时执行了某个插件的npm install命令后发现，live2d插件又回来了，搜索后发现之前删除的live2d文件夹又恢复了。 结论：所以实际上我仍然没有解决live2d插件问题，只能再次重复上面的步骤暂时删除插件。 RECOMMENDHexo建站小记HEXO的常用MarkDown语法qexo多作者解决方案]]></content>
      <categories>
        <category>解决方法</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>next</tag>
        <tag>建站</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hexo建站小记]]></title>
    <url>%2F2018%2F03%2F04%2F%E5%BB%BA%E7%AB%99%E5%B0%8F%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[前言三月四日，建站小记。开学事情不算多，在这个还未适应学习的时间，得找一些事情来避免这段时间被浪费掉，正好搞个blog,有兴趣，也不算完全浪费时间。博客基本已经不被大众使用了，还在使用的多半都是些it从业者，不知为何我会喜欢一些逐渐被人们抛弃的东西，很久之前就想搞一个博客，也尝试过用wordpress，直接用的模板，最后也没有在上面坚持写字。现在这个blog陆陆续续花了一周的时间，虽然hexo系统建立博客已经相当简单了，一个是没有基础比较愚笨（随着年龄增长越发觉得自己智商低于平均值），另一个原因是把next的很多特性都折腾了一下。折腾了很多，最后其实样式也和官方的差不多，没有设计能力不敢大改，生怕搞出个乡村非主流，所以只能在官方的基础上修改吧。大佬们的博客很漂亮，奈何技术能力不足，尝试过模仿最后还是四不像。试了很多发现还是next主题最漂亮,简洁我是一个不容易坚持的人，所以不敢轻易期望能够坚持什么，也是这样，凡是我认为能够坚持的一般也不会放弃。博客应该还是能够坚持下来的，因为有记录的需求。记录一些学习的成果问题，记录一些想说的字。 日志 20190315 因为文章变多了,添加了文章分类页面,添加了轮播背景图20190316 添加了Appveyor持续集成20190319 更换评论为valine 建议这是给来到这里想要建站的朋友们的建议 博客目前没有加入搜索引擎收录，所以不太可能被搜索到，如果你有幸看到这里，奇迹了。我会当作有很多人在看来写这篇博客，这样会让我写的更仔细，以后自己也方便参考。 next目前是使用的最多的主题，网上能找到的教程基本都是基于next的，所以入门组好先选择next，等熟悉了前端知识和hexo的特点后就可以使用其他主题甚至自己写配置文件。 使用next主题时最先查看next官方文档,你会学到一些名词，很多网上的教程都是基于官方文档。我对比了很多后我比较喜欢默认的主题,简洁却功能丰富. 看教程时最好看完一个再看别的，一个好的教程博主都会尽可能系统的构建，你看完一篇可以更好的了解hexo，不至于再各个页面切换浪费时间。 如果你对hexo有了初步的了解就可以学习下html/css的知识，如果你想系统的学习前端入门知识，建议去w3school学习。 善用git的版本控制，很多错误的操作都可以靠它便捷的回滚，如果要了解可以从这个廖雪峰老师的网站入门。 你需要学会使用markdown语言，可以参考这篇HEXO下的Markdown语法(GFM)写博客: https://zhuzhuyule.com/blog/HEXO/HEXO下的Markdown语法(GFM)写博客.html 如果你修改了配置/主题,但是无论怎么部署都不应用,或者本地部署有用但是推送给服务器后不起作用,你可以尝试hexo clean命令清除缓存和静态文件.然后再次部署/推送. 其他注意 使用HTML标签注意关闭标签的斜杠后不能有空格,虽然这是HTML推荐写法,但是加上后就不会被识别为标签. 文章在编辑的时候要注意一些预定义的字符需要转译,也有些字符会导致模板渲染错误,如大括号,使用时也要转译.否则部署文章会出错. 参考链接 这是一些我建站过程中参考的比较好的教程，其他还有很多零散的没有记录也找不到了 reuixiy:https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html 距离:https://segmentfault.com/a/1190000009544924 SORA:http://mashirosorata.vicp.io/HEXO-NEXT%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE.html 实现内容 很多容易找到的东西我就不写出来了，这里只记录一些我建站过程中不好找到的内容。 必要的安装 这部分比较简单参考用来简单的搭建好hexo,反正第一步要让他跑起来： 使用Hexo+Github一步步搭建属于自己的博客（基础）使用Hexo+Github一步步搭建属于自己的博客（进阶） 我的一部分配置文件 这部分是我的一部分custom.styl代码，你可以参考我的代码做一些简单的静态样式配色修改，当你掌握css后就可以使用开发者工具坐到页面内任何元素的调整，建议使用chrome浏览器。 这个文件内的注释可以找到很多配置,其他没有包含的配置会在后面的零散配置补充 实现方法： 修改文件 &gt;*\themes\next\source\css_custom\custom.styl 直接根据你的需要修改或添加代码,这里可以自定义覆盖默认样式 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135 // Custom styles.body&#123; //页面主体背景 background:url(/images/wp1_1280x1024_jpg.jpg); background-size:cover; background-repeat:no-repeat; background-attachment:fixed; background-position:center; &#125; .vwrap .vcard &#123;//valine评论背景色 background:rgba(255 255 255,0.95) none repeat scroll !important;&#125;.content &#123; //文章背景色 border-radius: 5px; margin-top: 60px; padding: 60px; background:rgba(255 255 255,0.8) none repeat scroll !important; &#125;.main-inner &#123;width: 900px;&#125;.header &#123; //头部颜色 background:rgba(0 0 0,0.8) none repeat scroll !important; &#125;.footer &#123; //底部颜色 background:rgba(0 0 0,0.8) none repeat scroll !important; &#125; #lv-container &#123; //来必力背景色 border-radius: 10px; background:rgba(255 255 255,0.8) none repeat scroll !important; &#125; #sidebar &#123; background:rgba(0 0 0,0.8) none repeat scroll !important; //p,span,a &#123;color: 颜色代码;&#125;&#125;.post-button &#123; //阅读全文位置 margin-top: 20px; text-align: center; //border-radius: 2px; //radius: 10px;&#125;a.btn&#123; //border-radius: 5px; &#125;.post-button a:hover &#123; //阅读全文颜色样式 background: rgba(255 255 255,0.0); color: #8f0008; border-radius: 8px; border-bottom-color: #8f0008; &#125;// 文章标题字体.posts-expand .post-title &#123; font-size: 26px; font-weight: 700;&#125;// 分割线样式hr &#123; color: #a40000;&#125;//运行时间样式div#days &#123; //color: #a40000; font-size: 15px;&#125;div#days:hover &#123; color: #a40000;&#125;//标题横线样式.posts-expand .post-title-link::before&#123; background-color: #a40000;&#125;//首页按钮颜色.menu .menu-item a:hover &#123; color: #a40000; background: #000000;&#125;//侧边栏概览目录样式.sidebar-nav .sidebar-nav-active&#123; color: white; border-bottom-color: #a40000;&#125;.sidebar-nav:hover .sidebar-nav-active:hover&#123; color: #a40000; &#125;//侧边栏按钮三横线颜色.sidebar-toggle-line &#123; background: #000000;&#125;.page-post-detail .sidebar-toggle-line &#123; background: #101010;&#125;//侧边栏回到顶部样式.back-to-top&#123; color: #000000;&#125;//文章内链接颜色a:hover &#123; border-bottom-color: #d60036;&#125;//侧栏文章目录下的颜色.post-toc .nav .active-current &gt; a &#123; color: #eee;&#125;.post-toc .nav .active &gt; a &#123; color: white; border-bottom-color: #d60036;&#125;.post-toc .nav .active-current &gt; a:hover &#123; color: #d60036;&#125; 注意 有些元素在这个custom内无法修改，而是在css文件夹内的其他文件夹内，内容过于零散就不一一列出，你可以使用f12自行修改，这里只列出最基础的几个修改。代码内有一些类可能你并没有比如运行时间样式，这个是需要在主题配置文件添加代码的，如果你没有添加，上文代码依然可以全部复制到你的custom文件并不会出现错误。 零散的一些设置博文置顶安装置顶插件 12npm uninstall hexo-generator-index --savenpm install hexo-generator-index-pin-top --save 在需要置顶的文章头加入top: true例如 123456---title: hahadate: categories: 默认top: true--- 同时为了之后方便我们在模板文件种添加一个 top:添加方法参考: 模板文件增加项目 然后在文章标题下面添加一个置顶标签样式 打开：/blog/themes/next/layout/_macro 目录下的post.swig文件，定位到div class=&quot;post-meta&quot;标签下，插入如下代码： 12345&#123;% if post.top %&#125; &lt;i class=&quot;fa fa-thumb-tack&quot;&gt;&lt;/i&gt; &lt;font color=7D26CD&gt;置顶&lt;/font&gt; &lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;&#123;% endif %&#125; live2d模块本条参考自:https://blog.yeahoo.top/ 首先检查博客主目录下面的 package.json里是否有&quot;hexo-helper-live2d&quot;: &quot;^3.0.3&quot;,依赖，有的话可以先卸载使用命令：npm uninstall hexo-helper-live2d之后再安装：npm install --save hexo-helper-live2d注意：命令都是在你的博客主目录执行 安装完成之后在package.json会看到安装的model 此时再去 node_moduels目录下，可以看到live2d-widget 然后下载各种动画model：地址：https://github.com/xiazeyu/live2d-widget-models.git动画对照网站:https://huaji8.top/post/live2d-plugin-2.0/ 下载好之后将packages里的需要的动画模板拷贝到博客的node_modules目录里 例如live2d-widget-model-shizuku 配置博客站点配置文件，_config.yml 1234567891011live2d: enable: true pluginModelPath: assets/ model: use: live2d-widget-model-epsilon2_1 #模板目录，在node_modules里 display: position: right width: 150 height: 300 mobile: show: false #是否在手机进行显示 设置侧栏默认加载进入主题配置文件,搜索sidebar修改它的display,有值,post,always,hide,remove文件中有注释对其说明,我选择的默认,post,自动展开侧边栏 关闭某个页面的评论 直接在 你需要禁用评论的markdown文档(.md)头加入代码(三个短横线之上) comments: false 例如 12345Title:helloworldData:2011-11-11 11:11:11Comments:false--正文 为每篇文章添加”本文结束”标记 效果见本文末尾 实现方法 在路径 \themes\next\layout_macro 中新建 passage-end-tag.swig 文件,并添加以下内容： 12345&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;-------------本文结束-------------&lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; 接着打开\themes\next\layout_macro\post.swig文件，在post-body 之后， post-footer 之前添加如下代码 12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include &apos;passage-end-tag.swig&apos; %&#125; &#123;% endif %&#125;&lt;/div&gt; 然后打开主题配置文件（_config.yml),在末尾添加： Passage-end-tag: enabled: true 此处注意:passage-end-tag.swig文件中有中文字所以最好使用utf-8编码 设置站点图标 选择好图片放置在/themses/next/source/images内通常为两张png图片一张”16x16”一张”32x32”像素修改 主题配置文件 下favicon的子项目为图片路径(可参考默认代码) 页面底部添加 网站总字数统计 主题配置文件post_wordcount:下的参数修改为true Totalcount:true 需要hexo-wordcount插件支持,hexo文件夹下运行cmd输入安装代码npm install hexo-wordcount --save 添加阅读全文方法一（推荐） 在文章中需要截断的地方添加&lt;!--more--&gt; 之上的文章就会出现在首页摘要并在下方显示阅读全文按钮 方法二 在你要发表的博文md文件头中添加一行description:在description后写你想要放在首页的文字，它会出现在文章题目下的摘要区域并在下方显示阅读全文按钮。注意description:必须要有一个英文空格再输入内容。 你也可以直接在模板文件中插入description这样就不用每篇博文都手动添加这个关键字了。在模板文件中插入的方法见下一条 模板文件增加项目我们通常使用hexo new post “title”创建一个空的博文，post就是你要使用的模板如果不输入就是默认模板文件，我通常就使用的默认。下面以默认模板为例子添加页面变量项目我们修改如下位置 ~/blog/scaffolds/post.md这个文件下下也可以创建其他的模板文件，要使用只需要在new文件的时候声明使用的哪个文件就好了，很方便。 12345678910---title: date: 2018-03-04 11:10:54updated:tags: description: keywords:comments:image:--- 以上变量是我的模板文件，是几个我最常用的项目，你也可以参照下面的描述来查看自己需要哪些变量项目，需要注意的是每个变量的冒号都是英文冒号，而且冒号后必须有一个英文空格。 这是模板文件的一些解释 摘自reuixiy:https://reuixiy.github.io/technology/computer/computer-aided-art/2017/06/09/hexo-next-optimization.html你可以在reuixiy的文章中查看更加详细的关于模板文件的解释 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192/* ！！！！！！！！！！** 每一项的 : 后面均有一个空格** 且 : 为英文符号** ！！！！！！！！！！*/title:/* 文章标题，可以为中文 */date:/* 建立日期，如果自己手动添加，请按固定格式** 就算不写，页面每篇文章顶部的发表于……也能显示** 只要在主题配置文件中，配置了 created_at 就行** 那为什么还要自己加上？** 自定义文章发布的时间*/updated:/* 更新日期，其它与上面的建立日期类似** 不过在页面每篇文章顶部，是更新于……** 在主题配置文件中，是 updated_at*/permalink:/* 若站点配置文件下的 permalink 配置了 title** 则可以替换文章 URL 里面的 title（文章标题）*/categories:/* 分类，支持多级，比如：- technology- computer- computer-aided-art则为technology/computer/computer-aided-art（不适用于 layout: page）*/tags:/* 标签** 多个可以这样写[标签1,标签2,标签3]** （不适用于 layout: page）*/description:/* 文章的描述，在每篇文章标题下方显示** 并且作为网页的 description 元数据** 如果不写，则自动取 &lt;!-- more --&gt;** 之前的文字作为网页的 description 元数据** 建议每篇文章都务必加上！*/keywords:/* 关键字，并且作为网页的 keywords 元数据** 如果不写，则自动取 tags 里的项** 作为网页的 keywords 元数据*/comments:/* 是否开启评论** 默认值是 true** 要关闭写 false*/layout:/* 页面布局，默认值是 post，默认值可以在** 站点配置文件中修改 default_layout** 另：404 页面可能用到，将其值改为 false*/type:/* categories，目录页面** tags，标签页面** picture，用来生成 group-pictures** quote？** https://reuixiy.github.io/uncategorized/2010/01/01/test.html*/photos:/* Gallery support，用来支持画廊 / 相册，用法如下：- photo_url_1- photo_url_2- photo_url_3https://reuixiy.github.io/uncategorized/2010/01/01/test.html*/link:/* 文章的外部链接** https://reuixiy.github.io/uncategorized/2010/01/01/test.html*/image:/* 自定义的文章摘要图片，只在页面展示，文章内消失** 此项只有参考本文 5.14 节配置好，否则请勿添加！*/sticky:/* 文章置顶** 此项只有参考本文 5.15 节配置好，否则请勿添加！*/password:/* 文章密码，此项只有参考教程：** http://shenzekun.cn/hexo的next主题个性化配置教程.html** 第 24 节，配置好，否则请勿添加！** 发现还是有 bug 的，就是右键在新标签中打开** 然后无论是否输入密码，都能看到内容*/ mist风格下修改博客名称双横线风格首先网上粗略搜索没有找到修改方式，于是使用f12开发者工具（推荐使用chrome）定位元素的class为.logo-line-before i,.logo-line-after i和.brand定位css路径为*\next\source\css\_common\components\header\site-meta.styl步骤：在*\next\source\css\_common\components\header\site-meta.styl添加如下代码12345678910.brand &#123; color: #a40000 !important; //头部标志颜色 //color: $brand-color; position: relative; display: inline-block; padding: 0 40px;.logo-line-before i,.logo-line-after i&#123; //头部双横线颜色 background: #a40000 !important;;&#125; 内容居中内容居中见:http://wellliu.com/2016/12/29/Blog%E5%B1%85%E4%B8%AD%E8%B0%83%E6%95%B4-%E5%9F%BA%E4%BA%8ENext%E4%B8%BB%E9%A2%98/ 回到顶部按钮添加百分比修改主题配置文件如下代码:123# Scroll percent label in b2t button.# 在回到顶部按钮里显示阅读百分比 scrollpercent: true 加载条方法一（推荐）打开主题配置文件搜索pace，将pace的值修改为你喜欢的一个代码示例如下12345678910111213141516171819# Progress bar in the top during page loading.pace: pace-theme-flash #集成的加载条# Themes list:#pace-theme-big-counter 大数字#pace-theme-bounce 弹球#pace-theme-barber-shop 全屏覆盖遮罩#pace-theme-center-atom 中心数字#pace-theme-center-circle#pace-theme-center-radar#pace-theme-center-simple 中心读条#pace-theme-corner-indicator右上旋转#pace-theme-fill-left 半透明遮罩#pace-theme-flash 上读条右上角旋转#pace-theme-loading-bar#pace-theme-mac-osx 上读条粗#pace-theme-minimal 上读条# For example# pace_theme: pace-theme-center-simple#pace_theme: pace-theme-flash 方法二（自定义颜色）集成的加载条我不知道怎么改变颜色所以使用的shenzekun给出的方案实现步骤：打开/themes/next/layout/_partials/head.swig文件添加如下代码 1234567891011121314151617 &lt;script src=&quot;//cdn.bootcss.com/pace/1.0.2/pace.min.js&quot;&gt;&lt;/script&gt;&lt;link href=&quot;//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;style&gt;.pace .pace-progress &#123;background: #1E92FB; /*进度条颜色*/height: 3px;&#125;.pace .pace-progress-inner &#123;box-shadow: 0 0 10px #1E92FB, 0 0 5px #1E92FB; /*阴影颜色*/&#125;.pace .pace-activity &#123;border-top-color: #1E92FB; /*上边框颜色*/border-left-color: #1E92FB; /*左边框颜色*/&#125;&lt;/style&gt; 你可以参照代码示例自由修改颜色注意：这样使用有小bug，如果你之前配置过主题集成的加载条请确保已经完全关闭 打开主题配置文件搜索pace，将pace值改为false，并且用“#”将 所有pace_theme:注释掉 主题添加背景图片见:http://www.cnblogs.com/tiansha/p/6458894.html 添加轮播背景图片jquery-backstretch是一款简单的jQuery插件，可以用来设置动态的背景图片，以下是官方网站的介绍。 A simple jQuery plugin that allows you to add a dynamically-resized, slideshow-capable background image to any page or element. 可以直接在页面中引入该插件的cdn来调用函数，也可以直接下载下来使用，这是官方地址 通过 jquery-backstretch，具体操作呢，编辑文件/themes/next/layout/_layout.swig 123456789&lt;!--动态背景轮播--&gt;&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js&quot;&gt;&lt;/script&gt;&lt;script&gt; $.backstretch([ &quot;/images/background/1.jpg&quot;, &quot;/images/background/2.jpg&quot;, &quot;/images/background/3.jpg&quot; ], &#123; duration: 10000, fade: 1500 &#125;);&lt;/script&gt; 直接加入到末尾就好 里可以随意添加你想要轮播的图片，但要确保图片路径是正确的，比如我的背景图片就存放在站点根目录下的images/background/目录下。 然后duration指的是轮换图片的时间，单位是毫秒，也就是说这里的代码表示一分钟就轮换到下一张图片； fade指的是轮换图片时会有个渐进渐出的动作，而这个过程需要花费的时间单位也是毫秒，如果不加上这个参数，就表示离开轮换成下一张图片。 注意这里的$.backstretch指的是对整个页面设置背景图片，我们也可以专门给某个元素设置背景图片 12$(&quot;.saber1&quot;).backstretch(\[&quot;/images/background/1.jpg&quot;\]); $(&quot;.saber2&quot;).backstretch(\[&quot;/images/background/2.jpg&quot;\]); 由于之前设置了首页背景图片博客加载的时候最先还是显示的配置的静态图片,过一会才切换 文字背景色以及半透明的设置（包含边距）在theme/next/source/css/_custom文件夹下打开custom.styl文件，往里面添加以下代码： 12345.content &#123;border-radius: 10px;margin-top: 60px;background:rgba(颜色rgb,透明度) none repeat scroll !important;&#125; 由于修改后显示文字贴着边缘所以我又给上面的类.content添加了padding值如下： 123456.content &#123;border-radius: 10px;margin-top: 60px;background: rgba(颜色rgb,透明度) none repeat scroll !important;padding: 60px;&#125; 添加鼠标飘字特效新建一个js： */themes/next/source/js/src/jiazhiguan.js 在js内添加如下代码 12345678910111213141516171819202122232425262728/* 鼠标飘字*/var a_idx = 0;jQuery(document).ready(function($) &#123;$("body").click(function(e) &#123;var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正" ,"法治", "爱国", "敬业", "诚信", "友善");var $i = $("&lt;span/&gt;").text(a[a_idx]);a_idx = (a_idx + 1) % a.length;var x = e.pageX,y = e.pageY;$i.css(&#123;"z-index": 999999999999999999999999999999999999999999999999999999999999999999999,"top": y - 20,"left": x,"position": "absolute","font-weight": "bold","color": "#a40000"&#125;);$("body").append($i);$i.animate(&#123;"top": y - 180,"opacity": 0&#125;,1500,function() &#123;$i.remove();&#125;);&#125;);&#125;); 然后在Blog\themes\next\layout\_layout.swig文件的最下方，&lt;/body&gt;前面添加&lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/jiazhiguan.js&quot;&gt;&lt;/script&gt;。 本条内容来自:https://newdee.cf/posts/ 修改突出显示修改我样式进入目录: \themes\next\source\css_custom添加代码 123456//``小代码块样式code&#123; color: #A40000; // 字体颜色 background: #bf7f8; //背景颜色 margin: 2px;&#125; 修改代码高亮首先修改站点配置文件,搜索highligth启动文字自动检测 1234highlight: enable: true line_number: true auto_detect: true 然后修改高亮主题,在主题配置文件中搜索highlight_theme 12345# Code Highlight theme# Available value:# normal | night | night eighties | night blue | night bright# https://github.com/chriskempson/tomorrow-themehighlight_theme: night eighties 我觉得night eighties这个主题比较好看所以我用了他. 为代码块添加复制按钮本条内容来自 恬雅过客:https://www.jianshu.com/p/3e9d614c1e77 下载脚本首先下载第三方js脚本: 保存文件clipboard.min.js，目录如下：.\themes\next\source\js\src 使用在.\themes\next\source\js\src目录下，创建clipboard-use.js，文件内容如下： 1234567891011121314151617/*页面载入完成后，创建复制按钮*/!function (e, t, a) &#123; /* code */ var initCopyCode = function()&#123; var copyHtml = ''; copyHtml += '&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'; copyHtml += ' &lt;i class="fa fa-globe"&gt;&lt;/i&gt;&lt;span&gt;copy&lt;/span&gt;'; copyHtml += '&lt;/button&gt;'; $(".highlight .code pre").before(copyHtml); new ClipboardJS('.btn-copy', &#123; target: function(trigger) &#123; return trigger.nextElementSibling; &#125; &#125;); &#125; initCopyCode();&#125;(window, document); 在.\themes\next\source\css\_custom\custom.styl样式文件中添加下面代码： 123456789101112131415161718192021222324252627282930313233343536//代码块复制按钮.highlight&#123; //方便copy代码按钮（btn-copy）的定位 position: relative;&#125;.btn-copy &#123; display: inline-block; cursor: pointer; background-color: #eee; background-image: linear-gradient(#fcfcfc,#eee); border: 1px solid #d5d5d5; border-radius: 3px; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-appearance: none; font-size: 13px; font-weight: 700; line-height: 20px; color: #333; -webkit-transition: opacity .3s ease-in-out; -o-transition: opacity .3s ease-in-out; transition: opacity .3s ease-in-out; padding: 2px 6px; position: absolute; right: 5px; top: 5px; opacity: 0;&#125;.btn-copy span &#123; margin-left: 5px;&#125;.highlight:hover .btn-copy&#123; opacity: 1;&#125; 引用在.\themes\next\layout\_layout.swig文件中，添加引用（注：在swig末尾或body 结束标签（&lt;/body&gt;）之前添加）： 123&lt;!-- 代码块复制功能 --&gt; &lt;script type="text/javascript" src="/js/src/clipboard.min.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="/js/src/clipboard-use.js"&gt;&lt;/script&gt; 添加友情链接在主题配置文件(Blog\themes\next_config.yml)中打开links 开关即可 1234567# Blog rolls 友情链接links_title: Linkslinks_layout: blocklinks_layout: inlinelinks: test: http://www.example.com test2: http://www.baidu.com 添加版权声明本条参考:![Hexo Next下添加版权声明模块]:(https://arcecho.github.io/2017/04/08/Hexo-Next%E4%B8%8B%E6%B7%BB%E5%8A%A0%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E%E6%A8%A1%E5%9D%97/) 首先建立HTML结构12345678910111213141516171819&lt;div&gt; &#123;# 表示如果不在索引列表中加入后续的HTML代码 #&#125; &#123;% if not is_index %&#125; &lt;div class="post-copyright"&gt; 如果文章有问题欢迎指出,或者你也可以联系我 &lt;div class="post-copyright-author"&gt; &lt;strong&gt;本文作者：&lt;/strong&gt;&#123;&#123; theme.author &#125;&#125; &lt;/div&gt; &lt;div class="post-copyright-link"&gt; &lt;strong&gt;本文链接：&lt;/strong&gt; &lt;a href="&#123;&#123; url_for(page.path) &#125;&#125;" title="&#123;&#123; page.title &#125;&#125;"&gt;&#123;&#123; page.path &#125;&#125;&lt;/a&gt; &lt;/div&gt; &lt;div class="post-copyright-license"&gt; &lt;strong&gt;版权声明： &lt;/strong&gt; 本博客所有文章除特别声明外，均采用 &lt;a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" rel="external nofollow" target="_blank"&gt;CC BY-NC-SA 3.0 CN&lt;/a&gt; 许可协议。转载请注明出处！ &lt;/div&gt; &lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; 找到Theme文件夹(这里是next)下的layout/_Marco/post.swig文件,打开找到post-body所在的标签,在这个的标签的结束标签前加入上面的代码.这个代码是基于NexT主题的格式修改的,你也可以自己修改. 添加样式进入Next下的source/css/_custom/custom.styl并在末尾添加如下代码 1234567.post-copyright &#123; margin: 2em 0 0; padding: 0.5em 1em; border-left: 3px solid #ff1700; background-color: #f9f9f9; list-style: none;&#125; 博文压缩本条参考自 枫頔：https://www.jianshu.com/p/93b63852f0b3安装gulp插件1npm install gulp -g //全局安装,不加-g参数(非全局)测试失败 要实现gulp压缩需要安装以下五个模块： gulp-htmlclean // 清理html gulp-htmlmin // 压缩html gulp-minify-css // 压缩css gulp-uglify // 混淆js gulp-imagemin // 压缩图片 安装模块1install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save 安装的模块可以在根目录下的package.json文件里面看到。 123456&quot;gulp&quot;: &quot;^3.9.1&quot;,&quot;gulp-htmlclean&quot;: &quot;^2.7.14&quot;,&quot;gulp-htmlmin&quot;: &quot;^3.0.0&quot;,&quot;gulp-imagemin&quot;: &quot;^3.3.0&quot;,&quot;gulp-minify-css&quot;: &quot;^1.2.4&quot;,&quot;gulp-uglify&quot;: &quot;^3.0.0&quot;, 进入博客根目录，新建gulpfile.js文件，内容如下： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748var gulp = require(&apos;gulp&apos;);var minifycss = require(&apos;gulp-minify-css&apos;);var uglify = require(&apos;gulp-uglify&apos;);var htmlmin = require(&apos;gulp-htmlmin&apos;);var htmlclean = require(&apos;gulp-htmlclean&apos;);var imagemin = require(&apos;gulp-imagemin&apos;);// 压缩htmlgulp.task(&apos;minify-html&apos;, function() &#123; return gulp.src(&apos;./public/**/*.html&apos;) .pipe(htmlclean()) .pipe(htmlmin(&#123; removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true, &#125;)) .pipe(gulp.dest(&apos;./public&apos;))&#125;);// 压缩cssgulp.task(&apos;minify-css&apos;, function() &#123; return gulp.src(&apos;./public/**/*.css&apos;) .pipe(minifycss(&#123; compatibility: &apos;ie8&apos; &#125;)) .pipe(gulp.dest(&apos;./public&apos;));&#125;);// 压缩jsgulp.task(&apos;minify-js&apos;, function() &#123; return gulp.src(&apos;./public/js/**/*.js&apos;) .pipe(uglify()) .pipe(gulp.dest(&apos;./public&apos;));&#125;);// 压缩图片gulp.task(&apos;minify-images&apos;, function() &#123; return gulp.src(&apos;./public/images/**/*.*&apos;) .pipe(imagemin( [imagemin.gifsicle(&#123;&apos;optimizationLevel&apos;: 3&#125;), imagemin.jpegtran(&#123;&apos;progressive&apos;: true&#125;), imagemin.optipng(&#123;&apos;optimizationLevel&apos;: 7&#125;), imagemin.svgo()], &#123;&apos;verbose&apos;: true&#125;)) .pipe(gulp.dest(&apos;./public/images&apos;))&#125;);// 默认任务gulp.task(&apos;default&apos;, [ &apos;minify-html&apos;,&apos;minify-css&apos;,&apos;minify-js&apos;,&apos;minify-images&apos;]); 执行压缩 12hexo ggulp // 执行压缩，两条命令可以合并：hexo g &amp;&amp; gulp 然后就可以执行部署命令：1hexo d 正文文字设置更改选中文字背景色修改鼠标选中部分文字的背景颜色(同时会改变代码块中的选中颜色,注意和代码块的兼容色)\themes\next\source\css\_custom\custom.styl 添加代码 1234567891011// 修改选中字符的颜色// webkit, opera, IE9 ::selection &#123; background: #A40000; color: #f7f7f70; &#125;// firefox ::-moz-selection &#123; background: #A40000; color: #f7f7f7; &#125; 效果可再本博客测试 浏览器侧边滚动条来源:https://www.jianshu.com/p/5017abb0d0a2修改浏览器侧边滚动条样式\themes\next\source\css\_custom\custom.style 添加代码 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152// 更好的侧边滚动条::-webkit-scrollbar &#123; width: 10px; height: 10px;&#125;::-webkit-scrollbar-button &#123; width: 0; height: 0;&#125;::-webkit-scrollbar-button:start:increment,::-webkit-scrollbar-button:end:decrement &#123; display: none;&#125;::-webkit-scrollbar-corner &#123; display: block;&#125;::-webkit-scrollbar-thumb &#123; border-radius: 8px; background-color: rgba(0,0,0,.2);&#125;::-webkit-scrollbar-thumb:hover &#123; border-radius: 8px; background-color: rgba(164,0,0,.5);&#125;::-webkit-scrollbar-track,::-webkit-scrollbar-thumb &#123; border-right: 1px solid transparent; border-left: 1px solid transparent;&#125;::-webkit-scrollbar-track:hover &#123; background-color: rgba(164,0,0,.15);&#125;::-webkit-scrollbar-button:start &#123; width: 10px; height: 10px; background: url(../images/scrollbar_arrow.png) no-repeat 0 0;&#125;::-webkit-scrollbar-button:start:hover &#123; background: url(../images/scrollbar_arrow.png) no-repeat -15px 0;&#125;::-webkit-scrollbar-button:start:active &#123; background: url(../images/scrollbar_arrow.png) no-repeat -30px 0;&#125;::-webkit-scrollbar-button:end &#123; width: 10px; height: 10px; background: url(../images/scrollbar_arrow.png) no-repeat 0 -18px;&#125;::-webkit-scrollbar-button:end:hover &#123; background: url(../images/scrollbar_arrow.png) no-repeat -15px -18px;&#125;::-webkit-scrollbar-button:end:active &#123; background: url(../images/scrollbar_arrow.png) no-repeat -30px -18px;&#125; 顶部阅读进度条这个我失败了,所以把js引入删除了.没有实现这个功能 首先\themes\next\layout\_partials\header.swig模板文件里加上进度条的 div. 1&lt;div class=&quot;top-scroll-bar&quot;&gt;&lt;/div&gt; 位置处于class=&quot;custom-logo-site-title&quot;的前面 然后在\themes\next\source\css\_custom\custom.styl添加代码 12345678910.top-scroll-bar &#123; position: fixed; top: 0; left: 0; z-index: 9999; display: none; width: 0; height: 2px; background: #6d6d6d;&#125; 然后新建js脚本 \themes\next\source\js\src\custom\custom.js 12345$(document).ready(function () &#123; $(window).scroll(function()&#123; $(&quot;.top-scroll-bar&quot;).attr(&quot;style&quot;, &quot;width: &quot; + ($(this).scrollTop() / ($(document).height() - $(this).height()) * 100) + &quot;%; display: block;&quot;); &#125;);&#125;); 最后，将我们新建的那个 js脚本引入到模板，使其生效在\themes\next\layout\_scripts\commons.swig中加入 1&apos;src/custom/custom.js&apos; 位置在这一行&#39;src/motion.js&#39;的下面 总共修改了四个文件 添加访客统计busuanzi 进入busuanzi官网:https://busuanzi.ibruce.info/ 可以看到使用方法 配置方法位置\themes\next\layout\_third-party\analytics\busuanzi-counter.swig新建如下文件. 使用如下代码代码 123456789101112131415161718192021&#123;% if theme.busuanzi_count.enable %&#125;&lt;div class=&quot;busuanzi-count&quot;&gt; &lt;script async src=&quot;https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt; &#123;% if theme.busuanzi_count.site_uv %&#125; &lt;span class=&quot;site-uv&quot;&gt; &#123;&#123; theme.busuanzi_count.site_uv_header &#125;&#125; &lt;span class=&quot;busuanzi-value&quot; id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt; &#123;&#123; theme.busuanzi_count.site_uv_footer &#125;&#125; &lt;/span&gt; &#123;% endif %&#125; &#123;% if theme.busuanzi_count.site_pv %&#125; &lt;span class=&quot;site-pv&quot;&gt; &#123;&#123; theme.busuanzi_count.site_pv_header &#125;&#125; &lt;span class=&quot;busuanzi-value&quot; id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt; &#123;&#123; theme.busuanzi_count.site_pv_footer &#125;&#125; &lt;/span&gt; &#123;% endif %&#125;&lt;/div&gt;&#123;% endif %&#125; 添加分类新建一个页面，命名为 categories 。命令如下： 1hexo new page categories 编辑刚新建的页面，将页面的类型设置为 categories ，主题将自动为这个页面显示所有分类。 1234title: 分类date: 2018-12-22 12:39:04type: &quot;categories&quot;--- 注意：如果有启用多说 或者 Disqus 评论，默认页面也会带有评论。需要关闭的话，请添加字段 comments 并将值设置为 false，如： 12345title: 分类date: 2018-12-22 12:39:04type: &quot;categories&quot;comments: false--- 在菜单中添加链接:编辑主题配置文件 _config.yml ，将 menu 中的 categories: /categories注释去掉，如下: 12345menu: home: / categories: /categories archives: /archives tags: /tags 在每个文章的头上加入categories就可以添加分类了.123456---title: hahadate: 2019-03-16 08:12:43tags: [haha,lala]categories: [默认]--- 我们可以直接在模板文件中添加,这样新建的时候就不用手动添加分类了.参看之前的 模板文件添加项目 1234567891011---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;updated:tags:description:keywords:comments: image:categories: [默认]--- 添加百度收录来源:https://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/ google收录很多教程,这里介绍百度的.在百度站长处提交你的站点后进行网站所有权验证:使用文件验证.上传百度给的文件到更目录下的source文件夹下.然后配置站点配置文件找到skip_render:修改： 1234skip_render: - README.md - CNAME - baidu_verify_XXXXXXXXXX.html #下载的文件名 hexo d -g 推送等一会发现可以访问https://e1sewhere.github.io/baidu_verify_xxxxx.html了 然后回到百度站长工具网站:找到 连接提交页面看到下面的 1接口调用地址： http://data.zz.baidu.com/urls?site=https://e1sewhere.github.io&amp;token=DhahahahSGOR4 后面的token记录下来 hexo根目录下安装插件 1npm install hexo-baidu-url-submit --save 然后，同样在根目录下，把以下内容配置到_config.yml文件中: 12345baidu_url_submit: count: 1 ## 提交最新的一个链接,第一次可以搞大点,之后就小一点 host: www.hui-wang.info ## 在百度站长平台中注册的域名 token: your_token ## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里! path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里 其次，记得查看_config.ym文件中url的值， 必须包含是百度站长平台注册的域名（一般有www）， 比如: 1234# URLurl: http://www.hui-wang.inforoot: /permalink: :year/:month/:day/:title/ 最后，加入新的deployer: 1234deploy:- type: s3 ## 这是我原来的deployer bucket: hui-wang.info- type: baidu_url_submitter ## 这是新加的 执行hexo deploy的时候，新的连接就会被推送了。 Hexo跨博客文章推荐插件来源:https://github.com/huiwang/hexo-recommended-posts 安装文章推荐插件：1npm install hexo-recommended-posts --save 配置如果默认配置不能满足您的需求，您可以在博客根目录的_config.yml里覆盖默认配置：原文给出的配置代码有问题,我做了修改. 12345678910# Hexo跨博客文章推荐插件recommended_posts: server: https://api.truelaurel.com #后端推荐服务器地址 timeoutInMillis: 10000 #服务时长，超过此时长，则使用离线推荐模式 internalLinks: 3 #内部文章数量 externalLinks: 1 #外部文章数量 fixedNumber: false autoDisplay: true #自动在文章底部显示推荐文章 excludePattern: [] titleHtml: &lt;h1&gt;RECOMMEND&lt;span style=&quot;font-size:0.45em; color:gray&quot;&gt;(power by &lt;a href=&quot;https://github.com/huiwang/hexo-recommended-posts&quot;&gt;hexo recommend&lt;/a&gt;)&lt;/span&gt;&lt;/h1&gt; #自定义标题 其中 excludePattern 可以添加想要被过滤的链接的正则表达式, 如配置为 [&quot;example.com&quot;], 则所有包含 example.com 的链接都会从推荐文章中过滤掉. fixedNumber 字段用来控制是否返回固定数量的推荐文章, 如果默认推荐文章不够的话会填充当前文章的前后文章作为推荐文章. 下载推荐文章列表在编辑完新的文章之后，使用如下命令获取推荐列表 1hexo recommend 为了简便我将这个命令封装到了/hexo/appveyor.yml中 直接在hexo generate前添加一行hexo recommend 123build_script: - hexo recommend - hexo generate 问题乱码,不知什么原因,推荐的标题(h1标签内)乱码我就把它改成了英文 新设备恢复HEXO（原内容遗失此为临时备忘不完全） 备份原Hexo安装目录 安装nodejs 安装Git 新建一个Hexo用文件夹 文件夹内shift右键打开git bash执行命令：npm install hexo-cli -g 然后执行命令hexo init hexo version查看是否安装成功 将原Hexo目录下所有内容复制并替换到新文件夹目录下 设置git名称及右键地址（百度吧） 设置ssh秘钥创建好密钥并把公钥添加到github上（百度吧） 成功后直接 ssh -T git@github.com看看能否成功访问 成功后就hexo -s 测试一下能否运行 如果不成功time out，可以尝试修改github.com及ssh.github.com的hosts(直接改虚拟机内的全局hosts就可以，具体百度)源码备份部分来源:http://feg.netease.com/archives/634.html使用AppVeyor持续集成你的Hexo博客 我们需要两个仓库一个是博客运行的仓库Content Repo一个源码备份仓库Source Repo 创建CI项目注册: AppVeyor直接使用github登陆,就会读取github的仓库数据,但是我使用github登陆失败,于是使用gitlab登陆了,然后再gitlab授权,就登陆了Appveyor 在PROJECTS页面点击【NEW PROJECT】,然后由于没有绑定github我们点击github-&gt;install….(或者是Authorize…记不太清了).绑定成功后github图标就被点亮了. 配置项目和环境变量右侧选择你的Hexo博客所在的仓库(注意这里应该选择Source Repo),点击add 然后点击项目里的Settings-&gt;General Default branch 如果没有设置分支,就是默认的master分支.由于我暂时没有设置其他分支就是master分支 然后点击末尾save 进入Setting-&gt;Environment标签添加环境变量,点击Add variable需要设置四个变量:GIT_USER_EMAIL、GIT_USER_NAME是你GitHub邮箱和用户名，STATIC_SITE_REPO是你的Content Repo地址，TARGET_BRANCH默认是master 记得点保存! 获取Access Token参考这个文档:https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line Token description任意填写，下方的选项中全选repo即可。最后，点击下方绿色的Generate token按钮。此时就能得到你的Access Token 在这个页面:https://ci.appveyor.com/tools/encrypt加密accesstoken,的到加密后的tokeen 添加appveyor.yml到Hexo根目录appveyor.yml配置 1234567891011121314151617181920212223242526272829303132clone_depth: 5 environment: nodejs_version: &quot;8&quot; #原始环境的node 是4.x的版本，最好升级到最新的版本，防止Hexo的插件无法安装 access_token: secure: 你的加密后的accessToken install: - ps: Install-Product node $env:nodejs_version - node --version - npm --version - npm install - npm install hexo-cli -g build_script: - hexo generate artifacts: - path: public on_success: - git config --global credential.helper store - ps: Add-Content &quot;$env:USERPROFILE\.git-credentials&quot; &quot;https://$($env:access_token):x-oauth-basic@github.com`n&quot; - git config --global user.email &quot;%GIT_USER_EMAIL%&quot; - git config --global user.name &quot;%GIT_USER_NAME%&quot; - git clone --depth 5 -q --branch=%TARGET_BRANCH% %STATIC_SITE_REPO% %TEMP%\static-site - cd %TEMP%\static-site - del * /f /q - for /d %%p IN (*) do rmdir &quot;%%p&quot; /s /q - SETLOCAL EnableDelayedExpansion &amp; robocopy &quot;%APPVEYOR_BUILD_FOLDER%\public&quot; &quot;%TEMP%\static-site&quot; /e &amp; IF !ERRORLEVEL! EQU 1 (exit 0) ELSE (IF !ERRORLEVEL! EQU 3 (exit 0) ELSE (exit 1)) - git add -A - if &quot;%APPVEYOR_REPO_BRANCH%&quot;==&quot;master&quot; if not defined APPVEYOR_PULL_REQUEST_NUMBER (git diff --quiet --exit-code --cached || git commit -m &quot;Update Static Site&quot; &amp;&amp; git push origin %TARGET_BRANCH% &amp;&amp; appveyor AddMessage &quot;Static Site Updated&quot;) 大致的意思是从github仓库的当前分支拉取下来，编译成静态文件后，在push到目标分支。由于AppVeyor环境中是通过Access Token访问我们的仓库的，而Hexo自带的部署则在访问的过程中需要我们输入帐号密码，所以Hexo g -d的命令就不适合在这里使用。需要先编译成静态文件，再把public文件夹的静态文件push到目标分支。 最后，把这个文件提交到Github上就可以测试了！在AppVeyor的首页可以看到部署的过程和结果~最后显示sucess就算成功了 问题有可能提交后我们发现博客完全空白,查看content repo仓库后发现index.html和them目录下的next目录空白.原因是我们的next主题是clon下来的,是一个仓库,所以不能git pull.两个解决方法:方法一:删除目录下的 .git隐藏文件夹(删除了我依然不行)方法儿:修改next目录名称,我改为mnext,然后修改博客配置文件中的next为mnext问题解决了. 使用这个自动部署后我的 鼠标点击飘字的js加载失败了,但是本地使用hexo d -g发布,这个js是有效的.不知道什么原因. 应用以后push源文件(source repo)后博客(conten repo)会在几分钟内更新.同时不再本地环境的时候我们可以直接上github我们的仓库里直接编辑文md件,虽然不方便但依然可以做简单的修改. 自动化push上面我们使用了持续集成,之后发布文章就只需要git push而不需要 hexo d -g 了为了更加简单我使用自动化push.使用windows每次push的时候都要,git add, git commit, git push所以我使用脚本封装了命令,使用.bat脚本提交详见:封装Git命令 结尾还会随着使用更新 RECOMMEND跳过谷歌开机验证的方法Windows To Go系统安装记录Win磁盘MBR转换为GUIDqexo多作者解决方案]]></content>
      <categories>
        <category>记录</category>
      </categories>
      <tags>
        <tag>折腾</tag>
        <tag>hexo</tag>
        <tag>next</tag>
        <tag>建站</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello Hexo]]></title>
    <url>%2F2018%2F03%2F01%2FHello-Hexo%2F</url>
    <content type="text"><![CDATA[这一行没有使用缩进 这一段用了两个英文空格缩进 这一段使用了两个中文空格缩进 这一行用了tab缩进 我添加了另一个git账户 RECOMMEND千人千面：跨浏览器平台 测试网站的“长相”]]></content>
      <categories>
        <category>默认</category>
      </categories>
      <tags>
        <tag>测试</tag>
      </tags>
  </entry>
</search>
